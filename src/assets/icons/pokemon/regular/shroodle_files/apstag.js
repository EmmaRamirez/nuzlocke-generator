/*! @amzn/apswebapstaglibrary - apstag - v22.1213.2134 - 2022-12-13 21:34:06 */
!function(e){var t={};function n(r){var o;return(t[r]||(o=t[r]={i:r,l:!1,exports:{}},e[r].call(o.exports,o,o.exports,n),o.l=!0,o)).exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=36)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){try{var t=parseInt(e,10);if(!isNaN(t))return!(t<=0)&&(100<=t||100*Math.random()<=t)}catch(e){}return!1}function i(e,t){var n=parseInt(t,10),r=[],o=0;if(u(e)){if(isNaN(n)||n<1)return[e];for(var i=e.length;o<i;){var a=o;o+=n,r.push(e.slice(a,o))}}return r}function a(){return"".concat(Math.round(1e12*Math.random())).concat(Date.now())}function c(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=new Array(e),r=0;r<e;r++)n[r]=t[Math.floor(Math.random()*t.length)];return n.join("")}function s(e){return"object"===r(e)&&null!==e}function u(e){return"[object Array]"===Object.prototype.toString.call(e)}function l(e,t){return s(e)&&void 0!==e[t]&&""!==e[t]}function d(e,t){return-1!==e.indexOf(t)}function f(e){var t=new Date;return t.setDate(t.getDate()+e),t.toUTCString()}function b(e){try{var t=e.innerWidth||e.document.documentElement.clientWidth||e.document.body.clientWidth,n=e.innerHeight||e.document.documentElement.clientHeight||e.document.body.clientHeight;return"".concat(t,"x").concat(n)}catch(e){}return"x"}function p(e,t){return decodeURIComponent(e).split("?")[0].split("#")[0]===decodeURIComponent(t).split("?")[0].split("#")[0]}function g(e){var t=Object.keys(e);return t.filter((function(t){return e[t]})).length===t.length}n.d(t,"l",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"j",(function(){return s})),n.d(t,"i",(function(){return u})),n.d(t,"k",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return g}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return f}));t=n(0);var r=n(3),o=n(2),i=n(8),a=n(9),c=Object(t.l)(10),s=[];function u(e,t,n){try{(null!=n&&n.makeVisibleToAllUsers||Object(i.d)("errors"))&&console.error(e);var u={ts:Date.now(),url:encodeURIComponent(Object(a.g)(window)),r:encodeURIComponent(Object(a.h)(window)),_type:"apsLibraryError",e:{et:e.name,el:t,msg:e.message}};return s.push(u),o.a.dispatch({type:"LOG_ERROR",error:u}),!!c&&(Object(r.b)(u),!0)}catch(e){console.error(e)}return!1}function l(e,t,n,r){return u({name:t,message:"".concat(e," was of type '").concat(t,"' instead of '").concat(n,"'")},"TypeError-".concat(e),r)}function d(e,t){return function(){try{return e.apply(null,arguments)}catch(e){return u(e,t,{makeVisibleToAllUsers:!0}),null}}}function f(e){(1<arguments.length&&void 0!==arguments[1]&&arguments[1]||Object(i.d)("errors"))&&console.warn(e)}!0===Object(i.c)("exposeErrors")&&(window.apstagErrors=s)},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r,o=n(4),i=(t=n(5),n(0));n=n(8);function a(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var n;if(e)return"string"==typeof e?l(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d={AAXReqs:[],aaxViewabilityEnabled:!1,bidConfigs:{},bidReqs:{},bsPixels:{},cfg:{v:-1,CSM_JS:"//c.amazon-adsystem.com/aax2/csm.js.gz",CSM_RTB_COMMUNICATOR_JS:"//c.amazon-adsystem.com/bao-csm/aps-comm/aps_csm.js",DEBUG_APP_HTML:"//c.amazon-adsystem.com/aax2/debugApp.html",DEBUG_APP_HTML_V2:"//c.amazon-adsystem.com/aax2/debug_app_v2.html",DEFAULT_TIMEOUT:2e3,DTB_PATH:"/e/dtb",TEST_PATH_FREQUENCY:0,TEST_BID_ENDPOINT:null,TEST_PATH_LATENCY_SAMPLE_RATE:null,PIXEL_PATH:"/x/px/",LATENCY_SAMPLING_RATE:1,COOKIE_MATCH_DELAY:0,MAX_SLOTS_PER_REQUEST:1,CF_ROUTING_RATE:100,SLOT_RENDER_SAMPLING_RATE:1,FEATURE_SAMPLING_RATE:1,CONFIG_CALL_ENABLED:!1,LIB_CONFIG_PATH:"/cdn/prod/config"},cmpFired:!1,config:{pubID:""},displayAdServer:{noBidSlotIDs:[],shouldSampleRender:!1,slotRenderEndedSet:!1},errors:[],eventLog:[],experiments:{},gamSlotFetchLog:[],gamSlotRenderPixel:{aaxReqOffset:0,gamSlotFetchLogOffset:0},hosts:{DEFAULT_AAX_BID_HOST:"aax.amazon-adsystem.com",DEFAULT_AAX_PIXEL_HOST:"aax.amazon-adsystem.com",DEFAULT_CXM_HOST:"c.amazon-adsystem.com"},identityState:{},libraryLoadCallLatency:0,Q:[],slotBids:{},targetingKeys:{},tcfParseTime:0,outstream:{renderStart:0,shouldSample:!1},consentManagementPlatform:{}};function f(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:d,t=1<arguments.length?arguments[1]:void 0;return{AAXReqs:function(e,t){switch(t.type){case"RECORD_AAX_REQUEST":return[].concat(u(e),[t.data]);case"RECORD_AAX_REQ_PROP":return e.map((function(e){return(e=c({},e)).bidReqID===t.bidReqID&&(e[t.key]=t.value),e}));default:return u(e)}}(e.AAXReqs,t),aaxViewabilityEnabled:function(e,t){return"SET_VIEWABILITY"!==t.type?e:t.viewability}(e.aaxViewabilityEnabled,t),bidConfigs:function(e,t){return"RECORD_ORIGINAL_BID_CONFIG"!==t.type?c({},e):c(c({},e),{},s({},t.bidConfig.bidReqID,t.bidConfig))}(e.bidConfigs,t),bidReqs:function(e,t){var n;switch(t.type){case"ADD_CHUNKED_REQUESTS":return c(c({},e),{},s({},t.fid,c(c({},e[t.fid]),{},{networkReqs:new Array(t.numChunks)})));case"NEW_FETCH_BID_REQUEST":return c(c({},e),{},s({},t.fid,{pto:t.pto,hasCallbackExecuted:!1,networkReqs:[]}));case"RECORD_CALLBACK":return c(c({},e),{},s({},t.fid,c(c({},e[t.fid]),{},{hasCallbackExecuted:!0})));case"RECORD_NETWORK_EXCHANGE":var r=e[t.fid].networkReqs;return r[t.networkID]=c(c({},r[t.networkID]),{},(s(n={},"".concat(t.exchangeType,"Time"),t.timestamp),s(n,"inFlight","request"===t.exchangeType),n)),c(c({},e),{},s({},t.fid,c(c({},e[t.fid]),{},{networkReqs:r})));case"RECORD_TIMEOUT":return c(c({},e),{},s({},t.fid,c(c({},e[t.fid]),{},{networkReqs:e[t.fid].networkReqs.map((function(e){return e.inFlight?c(c({},e),{},{timeOut:t.timeOut}):e}))})));default:return c({},e)}}(e.bidReqs,t),bsPixels:function(e,t){return"RECORD_BID_INFO_SENT"!==t.type?c({},e):c(c({},e),{},s({},t.bidInfo.iid,t.bidInfo.state))}(e.bsPixels,t),cfg:function(e,t){return"SET_CFG"!==t.type?c({},e):c(c({},e),t.cfg)}(e.cfg,t),cmpFired:function(e,t){return"CMP_FIRED"===t.type||e}(e.cmpFired,t),config:function(e,t){return"SET_CONFIG"!==t.type?c({},e):c(c({},t.config),{},{gdpr:c({cmpTimeout:t.defaultCmpTimeout},t.config.gdpr),isSelfServePub:void 0!==t.config.pubID&&5<=t.config.pubID.length})}(e.config,t),displayAdServer:function(e,t){switch(t.type){case"SLOT_RENDER_ENDED_SET":return c(c({},e),{},{slotRenderEndedSet:!0});case"NO_BID_ON_ADSERVER_SLOTS":return c(c({},e),{},{noBidSlotIDs:e.noBidSlotIDs.concat(t.slotIDs)});case"REQUESTED_BID_FOR_ADSERVER_SLOTS":return c(c({},e),{},{noBidSlotIDs:e.noBidSlotIDs.filter((function(e){return!Object(i.h)(t.slotIDs,e)}))});case"SHOULD_SAMPLE_SLOT_RENDER":return c(c({},e),{},{shouldSampleRender:t.value});default:return c(c({},e),{},{noBidSlotIDs:u(e.noBidSlotIDs)})}}(e.displayAdServer,t),errors:function(e,t){return"LOG_ERROR"!==t.type?u(e):[].concat(u(e),[c({},t.error)])}(e.errors,t),eventLog:function(e,t){return"LOG_EVENT"!==t.type?u(e):[].concat(u(e),[c({},t.event)])}(e.eventLog,t),experiments:function(e,t){switch(t.type){case"SHOULD_CHUNK_REQUESTS":return c({chunkRequests:!0===e.shouldSampleLatency&&t.value},e);case"SHOULD_CF_ROUTE":return c(c({},e),{},{shouldCFRoute:t.value});case"SHOULD_SAMPLE_LATENCY":return c(c({},e),{},{shouldSampleLatency:t.value});case"SHOULD_SAMPLE_FEATURES":return c(c({},e),{},{shouldSampleFeatures:t.value});case"SHOULD_USE_TEST_BID_ENDPOINT":return c(c({},e),{},{shouldUseTestBidEndpoint:t.value});default:return c({},e)}}(e.experiments,t),gamSlotFetchLog:function(e,t){return"LOG_GAM_EVENT"!==t.type?u(e):[].concat(u(e),[c({},t.event)])}(e.gamSlotFetchLog,t),gamSlotRenderPixel:function(e,t){return"UPDATE_RENDER_OFFSETS"!==t.type?c({},e):c(c({},e),t.offsets)}(e.gamSlotRenderPixel,t),hosts:function(e,t){return"SET_HOST"!==t.type?c({},e):c(c({},e),{},s({},t.hostName,t.hostValue))}(e.hosts,t),identityState:function(e,t){return"RECORD_IDENTITY_STATE"!==t.type?e:c(c({},e),{},s({},t.vendor,Object(i.k)(e,t.vendor)?e[t.vendor]:t.identityState))}(e.identityState,t),libraryLoadCallLatency:function(e,t){return"RECORD_LIBRARY_LOAD_CALL_LATENCY"!==t.type?e:t.latency}(e.libraryLoadCallLatency,t),Q:function(e,t){return"SET_Q"!==t.type?u(e):u(t.Q)}(e.Q,t),slotBids:function(e,t){switch(t.type){case"BID_STATE_CHANGE":return c(c({},e),{},s({},t.slotID,e[t.slotID].map((function(e){return e._targetingSetID===t._targetingSetID&&(e.bidState=t.bidState,t.bidState===o.c.rendered?e.timing.renderTime=t.ts:t.bidState===o.c.set&&e.timing.setAtTimes.push(t.ts)),e}))));case"UPDATE_BID_INFO_PROP":return void 0===e[t.slotID]||e[t.slotID].filter((function(e){return e.matchesBidCacheId(t.iid)})).length<1?c({},e):c(c({},e),{},s({},t.slotID,e[t.slotID].map((function(e){return e.matchesBidCacheId(t.iid)&&(e[t.key]=t.value),e}))));case"UPDATE_SLOT_BIDS":return c(c({},e),t.bids.reduce((function(t,n){return Object(i.k)(t,n.slotID)?t[n.slotID]=[].concat(u(t[n.slotID]),[n]):Object(i.k)(e,n.slotID)?t[n.slotID]=[].concat(u(e[n.slotID]),[n]):t[n.slotID]=[n],t}),{}));default:return c({},e)}}(e.slotBids,t),targetingKeys:function(e,t){return"UPDATE_SLOT_BIDS"!==t.type?c({},e):c(c({},e),t.bids.reduce((function(t,n){return Object(i.k)(e,n.slotID)?t[n.slotID]=[].concat(u(e[n.slotID]),u((n.bidConfig.targeting||o.i).filter((function(t){return-1===e[n.slotID].indexOf(t)})))):t[n.slotID]=n.bidConfig.targeting||o.i,t}),{}))}(e.targetingKeys,t),tcfParseTime:function(e,t){return"RECORD_TCF_PARSE_TIME"!==t.type?e:t.time}(e.tcfParseTime,t),outstream:function(e,t){switch(t.type){case"RECORD_OUTSTREAM_RENDER_START_TIME":return c(c({},e),{},{renderStart:t.time});case"OUTSTREAM_SHOULD_SAMPLE":return c(c({},e),{},{shouldSample:t.shouldSample});default:return e}}(e.outstream,t),consentManagementPlatform:function(e,t){switch(t.type){case"RECORD_CMP_LISTENED_TO":return c(c({},e),{},{isListenedTo:t.isListenedTo});case"RECORD_CMP_CONSENT_DATA":return c(c({},e),{},{tcData:t.tcData});default:return e}}(e.consentManagementPlatform,t)}}var b={getState:function(){return r},dispatch:function(e){r=f(r,e)}};(b=Object(n.d)("redux")&&Object(t.b)()&&Object(i.k)(window,"__REDUX_DEVTOOLS_EXTENSION__")?window.__REDUX_DEVTOOLS_EXTENSION__(f):b).dispatch({type:"NOOP"})},function(e,t,n){"use strict";n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return S})),n.d(t,"b",(function(){return T})),n.d(t,"a",(function(){return A})),n.d(t,"g",(function(){return _})),n.d(t,"e",(function(){return D}));var r=n(4),o=n(2),i=n(8),a=n(0),c=n(1),s=n(9),u=n(14),l=n(10),d=[],f=!1,b=[];function p(e){var t=new Image;return t.src=e,b.push(t),t}!0===Object(i.c)("exposePixels")&&(window.apstagPixelQueue=d,window.apstagPixelsSent=b);var g,y={adServer:[],ampAdContext:[],appended:[],AaxSlotSizes:[],bidRender:[],bidRenderState:[],bidType:[],"blockedBidders-fetchBids":[],"blockedBidders-init":[],ccpa:[],cmpVar:[],creativeSize:[],deals:[],fetchBids:[],fifFlow:[],customFloor:[],gdpr:[],id:[],idRemap:[],iframe:[],renderFootprint:[],resizeIframe:[],schain:[],simplerGpt:[],slots:[],slotType:[],targeting:[],tcfVar:[],unusedDeal:[],useSafeFrames:[],trustToken:[],hasLocalStorage:[]},m=[],h=!1;function O(){h&&(clearTimeout(g),h=!1),Object(a.c)(m,5).forEach((function(e){T({_type:"featureUsage",p:e,u:Object(s.g)(window)})})),m=[]}function v(){h||(h=!0,g=setTimeout(O,2e3))}function j(e,t){try{return!!o.a.getState().experiments.shouldSampleFeatures&&(void 0!==y[e]&&!Object(a.h)(y[e],t)&&(y[e].push(t),m.push({cat:e,feat:t}),f&&v(),!0))}catch(e){return Object(c.b)(e,"sendFeaturePixel"),!1}}function S(){try{var e,t,n,r=o.a.getState().libraryLoadCallLatency,i=Object(u.c)(window,new RegExp("aax2/apstag.js"));null===i&&0===r||(e=Object(u.e)(window,"navigationStart"),t={_type:"libLatency",pid:l.b,ns:e},null!==i&&(t.fs=Object(u.a)(i,"fetchStart"),t.re=Object(u.a)(i,"responseEnd"),null!==(n=Object(u.f)(i)))&&(t.c=n?1:0),0!==r&&(t.tcc=r),T(t))}catch(e){Object(c.b)(e,"sendInitLatencyPixel")}}function w(e){try{var t;return f?(t=function(){try{var e=o.a.getState(),t=e.cfg.PIXEL_PATH,n=e.hosts.DEFAULT_AAX_PIXEL_HOST,a=Object(i.c)("pixelHost",n);return"".concat(r.s).concat(a).concat(t)}catch(e){return Object(c.b)(e,"buildPixelBaseUrl"),""}}(),void 0===e.bidId?t+="p/PH/":t+="".concat(e.bidId,"/"),p(t+=function(e){try{e._tl="aps-tag";var t=o.a.getState(),n=null,i="";Object(a.k)(t,"config")&&Object(a.k)(t.config,"pubID")&&""!==t.config.pubID&&(n=t.config.isSelfServePub,i=t.config.pubID),null!==n&&(n?(e.src=r.t,e.pubid=i):e.src=i),e.lv=r.l;var s=function(e){try{return e.replace(/\\.{1}/g,"")}catch(e){return Object(c.b)(e,"escapeJsonForAax"),""}}(JSON.stringify(e));return encodeURIComponent(s)}catch(e){return Object(c.b)(e,"objectToUrlPath"),""}}(e.payload))):(d.push(e),!1)}catch(e){return!1}}function T(e){return w({payload:e})}function A(e,t){return w({payload:t,bidId:e})}function _(){try{f||(f=!0,d.forEach(w),0<m.length&&v())}catch(e){Object(c.b)(e,"sendPixels")}}function D(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;try{return w({payload:{_type:"outstreamRender",bi:t,loc:e,lt:n}})}catch(e){return Object(c.b)(e,"outstreamPixel"),!1}}!0===Object(i.c)("exposePixels")&&(window.apstagFeaturePixelQueue=m)},function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"x",(function(){return c})),n.d(t,"c",(function(){return r})),n.d(t,"h",(function(){return s})),n.d(t,"w",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"p",(function(){return b})),n.d(t,"n",(function(){return p})),n.d(t,"e",(function(){return g})),n.d(t,"m",(function(){return y})),n.d(t,"o",(function(){return o})),n.d(t,"v",(function(){return m})),n.d(t,"j",(function(){return h})),n.d(t,"u",(function(){return i})),n.d(t,"t",(function(){return O})),n.d(t,"l",(function(){return v})),n.d(t,"s",(function(){return j})),n.d(t,"b",(function(){return S})),n.d(t,"k",(function(){return w})),n.d(t,"a",(function(){return T})),n.d(t,"r",(function(){return A})),n.d(t,"q",(function(){return _})),n.d(t,"z",(function(){return D})),n.d(t,"y",(function(){return I}));var r,o,i,a=["amznbid","amzniid","amznsz","amznp"],c=["amznbid","amzniid","amznp","r_amznbid","r_amzniid","r_amznp"],s=((n=r=r||{}).new="NEW",n.exposed="EXPOSED",n.set="SET",n.rendered="RENDERED","apstagDebug"),u=["redux","fake_bids","verbose","console","console_v2","errors"],l="apstagDebugHeight",d="apstagDEBUG",f="apstagCfg",b=0,p=0,g="apstagCxMEnabled",y="apstagLiveRampTimestamp",m=((t=o=o||{}).amznbid="testBid",t.amzniid="testImpression",t.amznp="testP",t.crid="testCrid",["amznbid","amznp"]),h=new Map([["__apsid","ck"],["__aps_id_p","ckp"]]),O=((n=i=i||{}).noRequest="0",n.bidInFlight="1",n.noBid="2","600"),v="22.1213.2134",j="https://",S="".concat(j,"aax.amazon-adsystem.com/e/dtb/vast?"),w="function"==typeof XMLHttpRequest&&void 0!==(new XMLHttpRequest).withCredentials,T="apstagLOADED",A=13,_=1e4,D=/^1[NY\-]{3}$/,I='<!DOCTYPE html>\n <html>\n     <head>\n         <title>APS Video Ads</title>\n         <script src="https://dcqi4aodgg8tv.cloudfront.net/apsvideoplayersdk/latest/apsvid.js"><\/script>\n     </head>\n     <body>\n         <div id="amazon-ads-container" style="height: 100%; width: 100%; position: absolute;">\n         </div>\n         <script type="text/javascript">\n           const adsContainer = document.querySelector("#amazon-ads-container")\n           const amazonVideoAds = new window.AmazonVideoAds(adsContainer, $$videoPlayerProps$$);\n           window.adsM;\n\n           function addListeners(adsM, amazonVideoAds) {\n            adsM.addListener(amazonVideoAds.eventNames.AdVideoPlayerEvents.COMPLETED, (e) => {\n              window.top.postMessage({"apsVideoPlayer": true, "event": "completed"}, window.top.location.origin);\n            })\n            adsM.addListener(amazonVideoAds.eventNames.AdVideoPlayerEvents.LOADED, (e) => {\n              window.top.postMessage({"apsVideoPlayer": true, "event": "loaded"}, window.top.location.origin);\n            })\n        }\n \n           window.requestAndPlay = () => {\n             amazonVideoAds.fetchAds("$$apstagVastTag$$")\n               .then(adsManager => {\n \n                 adsM = adsManager;\n \n                 adsM.init({\n                    fullscreen: true,\n                    muted: true,\n                    volume: .3,\n                    autoplay: false,\n                    controls: false,\n                    preload: "auto"\n                 })\n\n                 addListeners(adsM, amazonVideoAds);\n                 adsM.startAds(2000, {shouldVideoRemainAfterPlay: true});\n                 \n               })\n               .catch(function(err) {\n                 console.log("apstag failed to get APS ads manager", err);\n               });\n           }\n \n          requestAndPlay();\n\n         <\/script>\n     </body>\n </html>'},function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return _}));var r,o,i,a,c=n(1),s=n(3),u=n(16),l=n(21),d=n(2);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);n=t?(n=y(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===f(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return g(r)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1})}function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function j(){try{var e,t,n,r;return!(null==(e=window)||null==(t=e.localStorage)||!t.setItem||null==(n=window)||null==(r=n.localStorage)||!r.removeItem)||(Object(s.c)("hasLocalStorage","absent"),!1)}catch(e){return Object(s.c)("hasLocalStorage","exception"),!1}}(t=r=r||{}).sessionStorage="sessionStorage",t.localStorage="localStorage",(o=o||{}).document="document",(n=i=i||{}).clear="clear",n.getItem="getItem",n.key="key",n.removeItem="removeItem",n.setItem="setItem",n.length="length",(a=a||{}).cookie="cookie";var S=["AMZN-NoCookieConsent"],w=function(){function e(t,n){m(this,e),v(this,"globalContext",void 0),v(this,"stateContainer",void 0),this.globalContext=t,this.stateContainer=n}return O(e,[{key:"privacyRegulationApplies",value:function(){var e=null==(t=l.a.readStoredConsentData(this.stateContainer))?void 0:t.tcString,t=null==t?void 0:t.gdprApplies;return!!("string"==typeof e&&0<e.length||null!=(e=this.globalContext.apstag)&&e.isGDPRRegion||t)}},{key:"allowedToStoreAndAccessInformationOnDevice",value:function(){if(this.privacyRegulationApplies()){var e;if(!(e=null==(e=l.a.readStoredConsentData(this.stateContainer))?void 0:e.tcString)||"string"!=typeof e)return{allowed:!1,failures:["Invalid tcString: ".concat(e)]};var t=Object(u.c)(e);if(!t)return{allowed:!1,failures:["Invalid tcString: ".concat(e)]};if((e=Object(u.b)(t)).length)return{allowed:!1,failures:e}}return{allowed:!0,failures:[]}}},{key:"ensureStorageUsageIsAllowedOrThrowOnError",value:function(e,t,n){var r=(o=this.allowedToStoreAndAccessInformationOnDevice()).allowed,o=o.failures;if(!(r||n&&0<n.length&&0<=S.indexOf(n[0])))throw new Error("Not allowed to store or access information on device: ".concat(o));if(!(r=this.globalContext[e]))throw new ReferenceError("Object ".concat(e," isn't available"));if(void 0===r[t])throw new ReferenceError("Method ".concat(t," isn't available"))}},{key:"executeFunction",value:function(e,t,n,r,o){return t=this.globalContext[t],(n=(r=r||t[n]).apply(t,e))&&null!=o&&o.isJson?JSON.parse(n):n}},{key:"executeFunctionOrThrowOnError",value:function(e,t,n,r,o){return this.ensureStorageUsageIsAllowedOrThrowOnError(t,n,e),this.executeFunction(e,t,n,r,o)}},{key:"regulatedMethod",value:function(e,t,n,r){var o=this;return function(){try{for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return o.executeFunctionOrThrowOnError(a,e,t,n,r)}catch(i){if(null==r||!r.ignoreFailure)throw Object(c.b)(i,"RegulatedDataContainer-regulatedMethod"),i}}}}]),e}(),T=function(){b(t,w);var e=p(t);function t(){var n;m(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return v(g(n=e.call.apply(e,[this].concat(i))),"_getItem",(function(e){return n.globalContext.document.cookie.split("; ").reduce((function(t,n){return(n=n.split("="))[0]===e?decodeURIComponent(n[1]):t}),"")||null})),v(g(n),"_removeItem",(function(e){n._setItem(e,"",0)})),v(g(n),"_setItem",(function(e,t,r){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"/";r=new Date(r);if(!n.isValidDate(r))throw new Error("Invalid expiration date");n.globalContext.document.cookie="".concat(e,"=").concat(t,"; expires=").concat(r.toUTCString(),"; path=").concat(o,";")})),v(g(n),"getItem",(function(e,t){return n.regulatedMethod(o.document,a.cookie,n._getItem,t)(e)})),v(g(n),"setItem",(function(e,t,r){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"/";return n.regulatedMethod(o.document,a.cookie,n._setItem,4<arguments.length?arguments[4]:void 0)(e,t,r,i)})),v(g(n),"removeItem",(function(e,t){return n.regulatedMethod(o.document,a.cookie,n._removeItem,t)(e)})),n}return O(t,[{key:"isValidDate",value:function(e){return e instanceof Date&&!isNaN(e)}}]),t}(),A=function(){b(t,w);var e=p(t);function t(n,r,o){var a;return m(this,t),v(g(a=e.call(this,n,r)),"storageType",void 0),v(g(a),"clear",(function(e){return a.regulatedMethod(a.storageType,i.clear,null,e)()})),v(g(a),"getItem",(function(e,t){return a.regulatedMethod(a.storageType,i.getItem,null,t)(e)})),v(g(a),"key",(function(e,t){return a.regulatedMethod(a.storageType,i.key,null,t)(e)})),v(g(a),"removeItem",(function(e,t){return a.regulatedMethod(a.storageType,i.removeItem,null,t)(e)})),v(g(a),"setItem",(function(e,t,n){return a.regulatedMethod(a.storageType,i.setItem,null,n)(e,t)})),a.storageType=o,a}return O(t,[{key:"length",get:function(){return this.ensureStorageUsageIsAllowedOrThrowOnError(this.storageType,i.length),this.globalContext[this.storageType].length}}]),t}(),_=function(){function e(t){m(this,e),v(this,"globalContext",void 0),v(this,"stateContainer",void 0),this.globalContext=t.globalContext,this.stateContainer=t.stateContainer}return O(e,[{key:"sessionStorage",get:function(){try{return new A(this.globalContext,this.stateContainer,r.sessionStorage)}catch(e){throw Object(c.b)(e,"RegulatedDataContainers-sessionStorage"),e}}},{key:"localStorage",get:function(){try{return new A(this.globalContext,this.stateContainer,r.localStorage)}catch(e){throw Object(c.b)(e,"RegulatedDataContainers-localStorage"),e}}},{key:"cookie",get:function(){try{return new T(this.globalContext,this.stateContainer)}catch(e){throw Object(c.b)(e,"RegulatedDataContainers-cookie"),e}}},{key:"indexedDB",get:function(){throw new ReferenceError("Interface isn't yet defined")}},{key:"allowedToStoreAndAccessInformationOnDevice",value:function(){try{return new w(this.globalContext,this.stateContainer).allowedToStoreAndAccessInformationOnDevice().allowed}catch(e){return Object(c.b)(e,"RegulatedDataContainers-allowedToStoreAndAccessInformationOnDevice"),!1}}}],[{key:"getDefault",value:function(){return new e({globalContext:window,stateContainer:d.a})}}]),e}()},function(e,t,n){"use strict";var r,o;function i(e){return void 0!==e.amzniid}function a(e){return void 0!==e.kvMap}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),(n=r=r||{}).DISPLAY="display",n.VIDEO="video",n.MULTI_FORMAT="multi-format",(t=o=o||{}).MANAGED_WEB="mw",t.SELF_SERVE_WEB="ssw"},function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return z}));var r=n(19),o=n(0),i=n(1),a=(t=n(17),n(6));function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);n=t?(n=g(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===c(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return p(r)}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var m=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e);var n=b(r);function r(e){var t;if(this instanceof r)return t={slotID:e.targetId,slotName:Object(o.k)(e,"invCode")?e.invCode:Object(o.k)(e,"tagId")?e.tagId:e.targetId},y(p(t=n.call(this,t)),"rawSlot",void 0),t.rawSlot=e,t;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"mediaType",get:function(){return a.a.DISPLAY}},{key:"sizes",get:function(){try{return this.rawSlot.sizes}catch(e){return this.reportError(e,"sizes"),[]}}},{key:"aaxSlot",get:function(){try{var e=u(u({},d(g(r.prototype),"aaxSlot",this)),{},{sd:this.slotID,s:this.sizes.filter(o.i).map((function(e){return e.join("x")}))});return this.slotID!==this.slotName&&(e.sn=this.slotName),e}catch(e){return{sd:"",s:[],kv:{}}}}},{key:"reportError",value:function(e,t,n){Object(i.b)(e,"ApnSlot-".concat(t),n)}},{key:"isValid",value:function(){return!(!d(g(r.prototype),"isValid",this).call(this)||0===this.sizes.length&&(this.reportIsValidMessages(["'sizes' must have at least 1 valid item"],!0),1))}},{key:"initKeywords",value:function(){try{Object(o.k)(this.rawSlot,"keywords")||(this.rawSlot.keywords={})}catch(e){this.reportError(e,"initKeywords")}}},{key:"setTargeting",value:function(e,t){try{this.initKeywords(),this.rawSlot.keywords[e]=t}catch(e){this.reportError(e,"setTargeting")}}},{key:"getTargeting",value:function(e){try{return this.initKeywords(),Object(o.k)(this.rawSlot.keywords,e)?[this.rawSlot.keywords[e]]:[]}catch(e){return this.reportError(e,"getTargeting"),[]}}},{key:"clearTargeting",value:function(e){try{this.initKeywords(),delete this.rawSlot.keywords[e]}catch(e){this.reportError(e,"clearTargeting")}}}])&&l(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(t.a);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);n=t?(n=S(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===h(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return j(r)}}(r);function r(){var e=this,t=r;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var o,i,a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return i=!0,(o="isSupported")in(t=j(e=n.call.apply(n,[this].concat(c))))?Object.defineProperty(t,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[o]=i,e}return t=r,(e=[{key:"reportError",value:function(e,t){Object(i.b)(e,"AppNexusAdServer-".concat(t))}},{key:"cmdQueuePush",value:function(e){try{window.apntag.anq.push(e)}catch(e){this.reportError(e,"cmdQueuePush")}}},{key:"setTargeting",value:function(e,t){try{Object(o.k)(window,"apntag")&&Object(o.k)(window.apntag,"requests")&&(Object(o.k)(window.apntag.requests,"keywords")||(window.apntag.requests.keywords={}),window.apntag.requests.keywords[e]=t)}catch(e){this.reportError(e,"setTargeting")}}},{key:"getTargeting",value:function(e){try{if(!Object(o.k)(window,"apntag")||!Object(o.k)(window.apntag,"requests"))return[];Object(o.k)(window.apntag.requests,"keywords")||(window.apntag.requests.keywords={});var t=window.apntag.requests.keywords[e];return void 0===t?[]:[t]}catch(e){return this.reportError(e,"getTargeting"),[]}}},{key:"clearTargeting",value:function(e){try{Object(o.k)(window,"apntag")&&Object(o.k)(window.apntag,"requests")&&Object(o.k)(window.apntag.requests,"keywords")&&delete window.apntag.requests.keywords[e]}catch(e){this.reportError(e,"clearTargeting")}}},{key:"hasAdServerObjectLoaded",value:function(){try{return Object(o.k)(window,"apntag")&&Object(o.k)(window.apntag,"loaded")&&!0===window.apntag.loaded}catch(e){return this.reportError(e,"hasAdServerObjectLoaded"),!1}}},{key:"isCommandQueueDefined",value:function(){try{return Object(o.k)(window,"apntag")&&Object(o.k)(window.apntag,"anq")}catch(e){return this.reportError(e,"isCommandQueueDefined"),!1}}},{key:"getSlots",value:function(){try{var e=[];return Object(o.k)(window,"apntag")&&Object(o.k)(window.apntag,"requests")&&Object(o.k)(window.apntag.requests,"tags")&&Object(o.j)(window.apntag.requests.tags)&&Object.keys(window.apntag.requests.tags).forEach((function(t){t=window.apntag.requests.tags[t],e.push(new m(t))})),e}catch(e){return this.reportError(e,"getSlots"),[]}}}])&&O(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(r.a),T=n(26);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var R=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);n=t?(n=k(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===A(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return I(r)}}(r);function r(){var e=this,t=r;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return E(I(e=n.call.apply(n,[this].concat(i))),"isSupported",!0),E(I(e),"needNewBidObject",!0),e}return t=r,(e=[{key:"reportError",value:function(e,t){Object(i.b)(e,"SmartAdServer-".concat(t))}},{key:"cmdQueuePush",value:function(e){try{window.sas.cmd.push(e)}catch(e){this.reportError(e,"cmdQueuePush")}}},{key:"hasAdServerObjectLoaded",value:function(){try{return Object(o.k)(window,"sas")&&Object(o.k)(window.sas,"__smartLoaded")&&!0===window.sas.__smartLoaded}catch(e){return this.reportError(e,"hasAdServerObjectLoaded"),!1}}},{key:"isCommandQueueDefined",value:function(){try{return Object(o.k)(window,"sas")&&Object(o.k)(window.sas,"cmd")}catch(e){return this.reportError(e,"isCommandQueueDefined"),!1}}}])&&_(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(r.a),P=n(3),C=new r.a;function z(e){try{switch(e){case"appnexus":Object(P.c)("adServer",e),C=new w;break;case"googletag":Object(P.c)("adServer",e),C=new T.a;break;case"sas":Object(P.c)("adServer",e),C=new R;break;default:"string"==typeof e?Object(P.c)("adServer","invalid-".concat(e)):Object(P.c)("adServer","none"),C=new r.a}}catch(e){Object(i.b)(e,"setDisplayAdServer")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return A})),n.d(t,"c",(function(){return D})),n.d(t,"e",(function(){return k}));var r=n(2),o=n(5),i=n(0),a=n(4),c=n(11),s=n(3),u=n(1),l=["getLog","getState"];function d(e,t,n){try{switch(Object(i.h)(l,e)&&(Object(u.b)(new Error("Debug call made: ".concat(e)),"debugPublicApi-call-".concat(e)),l=l.filter((function(t){return t!==e}))),e){case"getLog":return r.a.getState().eventLog;case"getState":return r.a.getState();case"enable":return _("fake_bids",!0),"DEBUG MODE ENABLED";case"disable":return _("fake_bids",!1),"DEBUG MODE DISABLED";case"enableConsole":return m(!1,"command"),"Debug console enabled";case"enableConsoleV2":return m(!0,"command"),"Debug console v2 enabled";case"disableConsole":try{_("console",!1),_("console_v2",!1),null!==f&&document.body.removeChild(f),y=!1,Object(o.b)()&&o.a.getDefault().localStorage.removeItem(a.f)}catch(t){Object(u.b)(t,"disableDebugConsole",{makeVisibleToAllUsers:!0})}return"Debug console disabled";case"setDebug":return(_(t,n)?"Set debug mode '":"Failed to set debug mode '").concat(t,"' to '").concat(n,"'");default:return"unknown debug argument"}}catch(t){return Object(u.b)(t,"debugPublicApi",{makeVisibleToAllUsers:!0}),"error"}}var f,b,p,g,y=!1;function m(){var e,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=1<arguments.length?arguments[1]:void 0;try{_(t?"console_v2":"console",!0),y||(e={url:t?r.a.getState().cfg.DEBUG_APP_HTML_V2:r.a.getState().cfg.DEBUG_APP_HTML,onload:h,onerror:function(){return Object(u.b)(new Error("Error Loading Debug Console"),"enableDebugConsole-".concat(t?"v2":"v1","-onerror"),{makeVisibleToAllUsers:!0})}},Object(c.d)(e),setTimeout((function(){try{var e={_type:"debugLoad",mode:t?2:1};Object(i.k)(r.a.getState().config,"pubID")&&(e.src=r.a.getState().config.pubID),null!==n&&(e.method=n),Object(s.b)(e)}catch(e){Object(u.b)(e,"enableDebugConsole-setTimeout",{makeVisibleToAllUsers:!0})}}),5e3))}catch(e){Object(u.b)(e,"enableDebugConsole",{makeVisibleToAllUsers:!0})}}function h(e){try{var t=e.responseText,n=(f=document.createElement("div"),b=document.createElement("div"),p=document.createElement("iframe"),200);A("console_v2")&&(n=330),Object(o.b)()&&null!==o.a.getDefault().localStorage.getItem(a.f)&&(n=parseInt(o.a.getDefault().localStorage.getItem(a.f),10)),(isNaN(n)||n>window.innerHeight)&&(n=200),f.style.background="#eaeded",f.style.zIndex="2147483647",f.style.bottom="0",f.style.position="fixed !important",f.style.display="block !important",f.style.left="0",f.style.right="0",f.style.height="".concat(n,"px"),b.style.cursor="row-resize",b.style.height="2px",b.style.position="absolute",b.style.top="0",b.style.left="0",b.style.right="0",b.style.backgroundColor="RGBA(0,0,0,0)",f.appendChild(b),p.frameBorder="0",p.marginHeight="0",p.marginWidth="0",p.scrolling="no",p.id="apstag-debug-iframe",p.src="about:blank",p.style.display="block",p.style.width="100%",p.style.height="".concat(n,"px"),f.appendChild(p),document.body.appendChild(f),null!==p.contentDocument&&(p.contentDocument.open(),p.contentDocument.write(t),p.contentDocument.close()),b.addEventListener("mousedown",j)}catch(e){Object(u.b)(e,"renderDebugConsole",{makeVisibleToAllUsers:!0})}}function O(e){try{var t=window.innerHeight-e.clientY;return t<200&&(t=200),f.style.height="".concat(t,"px"),p.style.height="".concat(t,"px"),t}catch(e){return Object(u.b)(e,"resizeDebugConsole",{makeVisibleToAllUsers:!0}),200}}function v(e){try{return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1}catch(e){return Object(u.b)(e,"preventEvent",{makeVisibleToAllUsers:!0}),!1}}function j(){try{void 0===g&&((g=document.createElement("div")).style.position="fixed",g.style.left="0",g.style.right="0",g.style.top="0",g.style.bottom="0",g.style.zIndex="9999999999"),f.appendChild(g),window.addEventListener("mouseup",w),window.addEventListener("mousemove",S)}catch(e){Object(u.b)(e,"resizeBarMouseDownListener",{makeVisibleToAllUsers:!0})}}function S(e){try{return O(e),v(e)}catch(e){return Object(u.b)(e,"resizeBarMouseMoveListener",{makeVisibleToAllUsers:!0}),!1}}function w(e){try{null!==g&&f.removeChild(g),window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",w);var t=O(e);return Object(o.b)()&&o.a.getDefault().localStorage.setItem(a.f,"".concat(t)),v(e)}catch(e){return Object(u.b)(e,"resizeBarMouseUpListener",{makeVisibleToAllUsers:!0}),!1}}function T(){try{if(!Object(o.b)())return[];var e=o.a.getDefault().localStorage.getItem(a.h,{ignoreFailure:!0}),t=(null===e||"false"===e?e="[]":"true"===e&&(e='["fake_bids"]'),[]);try{t=JSON.parse(e)}catch(e){}return(t=Object(i.i)(t)?t:[]).filter((function(e){return Object(i.h)(a.w,e)}))}catch(e){return[]}}function A(e){try{return Object(i.h)(T(),e)}catch(e){return!1}}function _(e,t){try{var n;if(Object(o.b)()&&-1!==a.w.indexOf(e))return n=T(),t&&-1===n.indexOf(e)?n.push(e):t||(n=n.filter((function(t){return t!==e}))),0===n.length?o.a.getDefault().localStorage.removeItem(a.h):o.a.getDefault().localStorage.setItem(a.h,JSON.stringify(n)),k(),1}catch(t){Object(u.b)(t,"setDebugMode")}}function D(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;try{if(Object(i.k)(window,a.g)&&Object(i.k)(window[a.g],e))return window[a.g][e]}catch(e){Object(u.b)(e,"getDebugValue")}return t}var I=[];function k(){try{T().filter((function(e){return-1===I.indexOf(e)})).forEach((function(e){Object(u.b)(new Error("Debug method enabled: ".concat(e)),"debugPublicApi-enabled-".concat(e),{makeVisibleToAllUsers:!0}),I.push(e)}))}catch(e){Object(u.b)(e,"pixelDebugModes")}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return p})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return m})),n.d(t,"i",(function(){return O})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return j})),n.d(t,"k",(function(){return S}));var r=n(8),o=n(0),i=n(5),a=n(1),c=n(4),s=n(2),u=n(3);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){try{return e.split("_").pop()}catch(e){return Object(a.b)(e,"getAmpAmznBidValue"),""}}function f(e){try{return!Object(o.k)(e,"slots")}catch(e){return Object(a.b)(e,"isAAXPunt"),!0}}function b(e){try{var t,n=Object(r.c)("url");if(null!==n)return encodeURIComponent(n);try{S(e,!1)?(Object(u.c)("ampAdContext","getCurrentUrl"),t=null,e.context&&(t=e.context.canonicalUrl||e.context.sourceUrl)):t=e.top.location.href}catch(e){t=null}if(null===t||!t||void 0===t){t="";try{e.top!==e.self&&(t=e.document.referrer)}catch(e){}}return encodeURIComponent(t)}catch(e){return Object(a.b)(e,"getCurrentUrl"),""}}function p(e){try{var t,n="",o=Object(r.c)("url");if(null!==o)return encodeURIComponent(o);try{try{t=(S(e,!1)&&(Object(u.c)("ampAdContext","getReferrerUrl"),e.context)||e.top.document).referrer}catch(n){t=e.document.referrer}n=encodeURIComponent(t)}catch(n){}return n}catch(n){return Object(a.b)(n,"getReferrerUrl"),""}}function g(){try{var e={cookiesParams:""};return c.j.forEach((function(t,n){(n=i.a.getDefault().cookie.getItem(n))&&(e.cookiesParams+="&".concat(t,"=").concat(n))})),e}catch(e){return Object(a.b)(e,"getApsFirstPartyCookies"),{cookiesParams:""}}}function y(e){try{var t=s.a.getState().config.blockedBidders,n=(Object(o.k)(e,"blockedBidders")&&Object(o.i)(e.blockedBidders)&&(t=e.blockedBidders),"");return Object(o.i)(t)?JSON.stringify(t):n}catch(e){return Object(a.b)(e,"getBlockedBidders",{makeVisibleToAllUsers:!0}),""}}function m(){try{var e;return Object(i.b)()?(e=s.a.getState(),Object(o.k)(e,"cfg")&&Object(o.k)(e.cfg,"v")&&-1!==e.cfg.v?e.cfg.v:null):c.p}catch(e){return Object(a.b)(e,"getCfgVersion"),null}}function h(e){try{if(-1===["string","number"].indexOf(l(e)))return!1;var t=Math.floor(Number(e));if(t>c.n)return t}catch(e){Object(a.b)(e,"parseTimeout",{makeVisibleToAllUsers:!0})}return!1}function O(e,t){try{var n=h(e.timeout);return!1===(n=!1===n?h(t.config.bidTimeout):n)?h(t.cfg.DEFAULT_TIMEOUT):n}catch(e){return Object(a.b)(e,"getTimeout",{makeVisibleToAllUsers:!0}),2e3}}function v(e,t){var n,r=!1;function o(t){if(!r)try{e(t)}catch(t){Object(a.b)(t,"executeFunctionOnceWithTimeout-wrappedFunction",{makeVisibleToAllUsers:!0})}clearTimeout(n),r=!0}try{return n=setTimeout(o,t,!0),o.bind(null,!1)}catch(t){return Object(a.b)(t,"executeFunctionOnceWithTimeout",{makeVisibleToAllUsers:!0}),function(){}}}function j(e){var t=!1;return function(n){if(!t)try{e(n)}catch(n){Object(a.b)(n,"executeFunctionOnceWithTimeout-wrappedFunction",{makeVisibleToAllUsers:!0})}t=!0}}function S(e,t){try{var n=t?e.AMP_CONTEXT_DATA:e.context;return Boolean(n&&Object(o.k)(n,"tagName")&&"AMP-AD"===n.tagName)}catch(e){return Object(a.b)(e,"isInAmpAd"),!1}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return A})),n.d(t,"h",(function(){return _})),n.d(t,"d",(function(){return D})),n.d(t,"g",(function(){return I})),n.d(t,"c",(function(){return k})),n.d(t,"f",(function(){return E})),n.d(t,"e",(function(){return R}));var r=n(2),o=n(8),i=n(4),a=n(0),c=n(11),s=n(1),u=n(9),l=n(13),d=n(6),f=n(18),b=n(3),p=n(12),g=n(15);function y(e){try{return Object(a.j)(e.config.signals)?e.config.signals:{}}catch(e){return Object(s.b)(e,"getSignals"),{}}}function m(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){var n;if(e)return"string"==typeof e?j(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var T=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");w(this,"bidConfig",void 0),w(this,"bidState",i.c.new),w(this,"_targetingSetID",void 0),w(this,"timing",{setAtTimes:[]}),w(this,"pixelSent",!1),w(this,"useSafeFrames",!1),w(this,"bidReqID",""),w(this,"host",void 0),w(this,"ev",void 0),w(this,"cfe",void 0),w(this,"isAmp",!1),w(this,"doc",void 0),w(this,"inheritSize",void 0),this.bidConfig=t,this._targetingSetID=Object(a.d)(),r.a.getState().config.useSafeFrames&&(this.useSafeFrames=!0),this.useSafeFrames&&Object(a.k)(t,"targeting")&&t.targeting.push("amznhost"),Object(a.k)(t,"meta")?Object(a.i)(t.meta)||(this.reportError({name:"TypeError",message:"'meta' is not an 'array': ".concat(JSON.stringify(t.meta))},"constructor-meta"),t.meta=[]):t.meta=[];try{var n="d",o=(this.bidConfig.mediaType!==d.a.VIDEO&&"v"!==this.bidConfig.mediaType||(n="v"),[]);Object(a.k)(this.bidConfig,"amzndeals")&&(Object(b.c)("bidType","".concat(n,"-amzndeals")),o=this.bidConfig.amzndeals.map((function(e){return"".concat(e,"amzniid")}))),this.bidConfig.targeting.filter((function(e){return-1!==e.indexOf("amzniid")&&!Object(a.h)(o,e)})).forEach((function(e){return Object(b.c)("bidType","".concat(n,"-").concat(e))})),Object(a.k)(this.bidConfig,"fif")&&"1"===this.bidConfig.fif?Object(b.c)("bidRender","friendly"):Object(b.c)("bidRender","unfriendly")}catch(t){this.reportError(t,"pixeling")}}var t,n;return t=e,(n=[{key:"reportError",value:function(e,t,n){Object(s.b)(e,"Bid-".concat(t),n)}},{key:"mediaType",get:function(){var e="d";return this.bidConfig.mediaType!==d.a.VIDEO&&"v"!==this.bidConfig.mediaType&&"v"!==this.bidConfig.mediaType_sp?e:d.a.VIDEO}},{key:"targeting",get:function(){var e=this;try{return this.bidConfig.targeting.map((function(t){return"amznhost"===t?[t,encodeURIComponent(e.host)]:Object(a.k)(e.bidConfig,t)&&Object(a.i)(e.bidConfig[t])?[t,encodeURIComponent(e.bidConfig[t].join(","))]:Object(a.k)(e.bidConfig,t)?[t,encodeURIComponent(e.bidConfig[t])]:[t,""]})).map((function(e){var t=(e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2))[0];e=e[1];return"&".concat(t,"=").concat(e)})).join("")}catch(e){return this.reportError(e,"targeting"),""}}},{key:"bidObject",get:function(){try{var e={slotID:this.bidConfig.slotID,amzniid:this.bidConfig.amzniid,amznbid:this.bidConfig.amznbid,amznp:this.bidConfig.amznp,amznsz:this.bidConfig.amznsz,size:this.bidConfig.amznsz};return this.mediaType===d.a.VIDEO&&(e.mediaType=d.a.VIDEO,e.qsParams=this.targeting,e.encodedQsParams=encodeURIComponent(this.targeting),e.r_amznbid=this.bidConfig.r_amznbid,e.r_amzniid=this.bidConfig.r_amzniid,e.r_amznp=this.bidConfig.r_amznp),this.useSafeFrames&&(e.amznhost=this.host),e}catch(e){return this.reportError(e,"bidObject",{makeVisibleToAllUsers:!0}),{slotID:"",amzniid:"error",amznbid:"error",amznp:"error",amznsz:"error",size:"error"}}}},{key:"newBidObject",get:function(){var e=this;try{var t={slotID:this.bidConfig.slotID,size:this.bidConfig.amznsz,mediaType:this.mediaType,targeting:{},helpers:{targetingKeys:this.bidConfig.targeting,qsParams:function(){return e.targeting},encodedQsParams:function(){return encodeURIComponent(e.targeting)}}},n=["slotID","size","mediaType"];return this.bidConfig.meta.filter((function(e){return-1===n.indexOf(e)})).forEach((function(n){t[n]=e.bidConfig[n]})),this.bidConfig.targeting.forEach((function(n){t.targeting[n]="amznhost"===n?e.host:e.bidConfig[n]})),void 0!==this.slotID&&-1!==this.slotID.indexOf("_")&&(t.sasTargeting=t.helpers.targetingKeys.map((function(n){return"".concat(n,"_").concat(e.slotID.split("_")[1],"=").concat(t.targeting[n])})).join(";")),t}catch(e){return this.reportError(e,"newBidObject",{makeVisibleToAllUsers:!0}),{slotID:"",size:"",mediaType:"d",targeting:{},helpers:{targetingKeys:[],qsParams:function(){return""},encodedQsParams:function(){return""}}}}}},{key:"slotID",get:function(){try{return this.bidConfig.slotID}catch(e){return this.reportError(e,"slotID"),""}}},{key:"matchesBidCacheId",value:function(e){var t=this;try{return this.bidConfig.targeting.reduce((function(n,r){return n||-1!==r.indexOf("amzniid")&&t.bidConfig[r]===e}),!1)}catch(e){return this.reportError(e,"matchesBidCacheId"),!1}}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),A=Object(a.e)(i.r);function _(e){var t="validateSupplyChainObject",n=!1;function r(e,r){return Object(s.b)({name:"TypeError",message:r},"".concat(t,"-").concat(e),{makeVisibleToAllUsers:!0}),!(n=!0)}try{return Object(a.j)(e)?(Object(a.k)(e,"complete")?-1===[1,0].indexOf(e.complete)&&r("schain-complete-type","The `schain.complete` property must be a `1` or `0`"):r("schain-complete","The `schain.complete` property must be provided"),Object(a.k)(e,"ver")?Object(p.b)(e.ver,["string"])||r("schain-ver-type","The `schain.ver` property must be a string"):r("schain-ver","The `schain.ver` property must be provided"),Object(a.k)(e,"nodes")?Object(a.i)(e.nodes)?e.nodes.reduce((function(e,t){return Object(a.j)(t)?(Object(a.k)(t,"asi")?Object(p.b)(t.asi,["string"])||r("schain-node-asi-type","All `schain.nodes` items must have an `asi` property of type `string`"):r("schain-node-asi","All `schain.nodes` items must have an `asi` property"),Object(a.k)(t,"sid")?Object(p.b)(t.sid,["string"])||r("schain-node-sid-type","All `schain.nodes` items must have an `sid` property of type `string`"):r("schain-node-sid","All `schain.nodes` items must have an `sid` property"),Object(a.k)(t,"hp")?-1===[1,0].indexOf(t.hp)&&r("schain-node-hp-type","All `schain.nodes` items must have an `hp` property which is `1` or `0`"):r("schain-node-hp","All `schain.nodes` items must have an `hp` property"),Object(p.b)(t.rid,["string","undefined"])||r("schain-node-rid-type","If provided, the `rid` property on an `schain.nodes` item must be of type `string`"),Object(p.b)(t.name,["string","undefined"])||r("schain-node-name-type","If provided, the `name` property on an `schain.nodes` item must be of type `string`"),Object(p.b)(t.domain,["string","undefined"])||r("schain-node-domain-type","If provided, the `domain` property on an `schain.nodes` item must be of type `string`"),e&&!n):r("schain-node-type","All `schain.nodes` items must be objects")}),!n):r("schain-nodes-type","The `schain.nodes` property must be an `Array`"):r("schain-nodes","The `schain.nodes` property must be provided")):r("schain","The `schain` value must be an object")}catch(e){return Object(s.b)(e,t,{makeVisibleToAllUsers:!0}),!1}}function D(e,t,n,l){try{var p,h=r.a.getState(),v=Object(o.c)("host",h.hosts.DEFAULT_AAX_BID_HOST),j=h.cfg.DTB_PATH,S="bid",w=(h.experiments.shouldUseTestBidEndpoint&&null!==h.cfg.TEST_BID_ENDPOINT&&(S=h.cfg.TEST_BID_ENDPOINT),{src:h.config.pubID,u:Object(u.g)(window),pr:Object(u.h)(window),pid:A,cb:e.bidReqID,ws:Object(a.g)(window),v:i.l,t:t,slots:function(e){try{return Object(c.c)(e.map((function(e){var t;if(Object(a.k)(e,"mediaType")&&e.mediaType===d.a.VIDEO||e.mediaType===d.a.MULTI_FORMAT)t=e.aaxSlot;else{if(!(Object(a.k)(e,"sizes")&&0<e.sizes.length&&Object(a.k)(e,"slotID")))return Object(s.b)({name:"SlotError",message:"There was an error with the configuration for this slot: ".concat(JSON.stringify(e.rawSlot))},"buildSlotsUrlParam-invalidSlot",{makeVisibleToAllUsers:!0}),{id:"ERROR",mt:f.a.VIDEO,error:!0};var n=e.aaxSlot;Object(a.k)(e,"slotName")&&e.slotName!==e.slotID?(Object(b.c)("idRemap","y"),n.sd=e.slotID,n.sn=e.slotName):Object(b.c)("idRemap","n"),t=n}return t})).filter((function(e){return!0!==e.error})))}catch(e){return Object(s.b)(e,"buildSlotsUrlParam",{makeVisibleToAllUsers:!0}),""}}(e.validSlots),pj:function(e,t){try{var n=Object(a.j)(e.config.params)?e.config.params:{},r=Object(a.j)(t.params)?t.params:{},o=y(e),i=O(O(O({},n),r),o);return 0===Object.keys(i).length?"":Object(c.c)(i)}catch(e){return Object(s.b)(e,"getBidParams",{makeVisibleToAllUsers:!0}),""}}(h,e),sg:function(e){try{var t=y(e);return 0===Object.keys(t).length?"":Object(c.c)(t)}catch(e){return Object(s.b)(e,"getSignalsParams"),""}}(h),cfgv:Object(u.f)(),bb:Object(u.e)(e),schain:function(e){try{var t;return Object(a.k)(e.config,"schain")?(t=e.config.schain,encodeURIComponent(["".concat(t.ver,",").concat(t.complete)].concat(m(t.nodes.map((function(e){return["asi","sid","hp","rid","name","domain"].map((function(t){return Object(a.k)(e,t)?e[t]:""})).map((function(e){return encodeURIComponent(e)})).map((function(e){return e.replace(/\!/g,"%21")})).join(",")})))).join("!"))):""}catch(e){return Object(s.b)(e,"getSupplyChainObject",{makeVisibleToAllUsers:!0}),""}}(h)});if("[]"===w.slots||""===w.slots)throw new Error("No slots available for bid request");r.a.dispatch({type:"RECORD_AAX_REQUEST",data:{bidConfig:e,bidReqID:e.bidReqID,timeout:t,ws:w.ws,url:w.u,rqTs:Date.now()}}),h.experiments.chunkRequests&&(p=e.bidReqID.split("-"),r.a.dispatch({type:"RECORD_NETWORK_EXCHANGE",fid:p[0],networkID:parseInt(p[1],10),timestamp:Date.now(),exchangeType:"request"})),h.config.isSelfServePub&&(w.pubid=w.src,w.src=600);var T=Object(u.d)(),_=Object(o.c)("bidParams"),D=(Object(a.j)(_)&&(w=O(O({},w),_)),Object(a.j)(n)&&(Object(a.k)(n,"enabled")&&(w.gdpre=encodeURIComponent(n.enabled)),Object(a.k)(n,"consent")&&(w.gdprc=encodeURIComponent(n.consent)),Object(a.k)(n,"log"))&&(w.gdprl=Object(c.c)(n.log)),Object(a.k)(h.config,"useSafeFrames")&&h.config.useSafeFrames&&(w.sf="1"),Object(g.b)()),I=(D&&(Object(b.c)("id","bidReq-attachToken"),l.ids.at=D),w.vm=l&&0!==Object.keys(l.ids).length?Object(c.c)({ids:l.ids,md:l.md}):"",Object.keys(w).filter((function(e){return Object(a.k)(w,e)&&"undefined"!==w[e]&&""!==w[e]&&null!==w[e]})).map((function(e){return"".concat(e,"=").concat(w[e])})).join("&")),k=(T.cookiesParams&&(I+=T.cookiesParams),"".concat(i.s).concat(v).concat(j,"/").concat(S,"?").concat(I));return r.a.dispatch({type:"RECORD_AAX_REQ_PROP",bidReqID:e.bidReqID,key:"urlLength",value:k.length}),k}catch(e){return Object(s.b)(e,"buildBidUrl",{makeVisibleToAllUsers:!0}),""}}function I(e,t){try{return Object(a.k)(e,"config")&&Object(a.k)(e.config,"deals")&&!0===e.config.deals||!0===t.needNewBidObject}catch(e){return Object(s.b)(e,"isNewBidObjectRequired"),!1}}function k(e,t,n){try{var r=e.map(l.c),o=t.slots.filter(Object(l.d)(d.a.DISPLAY,d.a.MULTI_FORMAT)).map(l.c).filter((function(e){return!Object(a.h)(r,e)})),c=n?i.u.bidInFlight:i.u.noBid;return e.concat(o.map((function(e){return new T({size:"0x0",crid:"",slotID:e,mediaType:"d",meta:["slotID","mediaType","size"],amznbid:c,amzniid:"",amznp:c,amznsz:"0x0",targeting:["amzniid","amznbid","amznp","amznsz"]})})))}catch(t){return Object(s.b)(t,"addStateTrackingBidsToRealBids"),e}}function E(e){try{var t;return!Object(a.h)(r.a.getState().displayAdServer.noBidSlotIDs,e.slotID)&&(t=r.a.getState().AAXReqs.filter((function(t){return t.bidReqID===e.bidReqID}))[0],!(Object(a.k)(t,"rqTs")&&Date.now()-t.rqTs>24e4||Object(a.k)(t,"url")&&!Object(a.b)(t.url,Object(u.g)(window))||e.bidState===i.c.rendered))}catch(t){return Object(s.b)(t,"isBidEligible"),!1}}function R(e){try{var t=e.map(l.c),n=r.a.getState();return Object.keys(n.slotBids).filter((function(e){return Object(a.h)(t,e)})).reduce((function(e,t){var o=n.slotBids[t].filter((function(e){return e.bidState===i.c.new})).filter(E);return 0<o.length&&(o=o[o.length-1],r.a.dispatch({type:"BID_STATE_CHANGE",slotID:t,_targetingSetID:o._targetingSetID,bidState:i.c.exposed}),e[t]=o),e}),{})}catch(e){return Object(s.b)(e,"getNewSlotBidsAndExposeForRequestedSlots"),{}}}},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return s}));var r=n(1);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){var t,n=e.url,i=e.onload,a=e.onerror,c=e.ontimeout,s=e.withCredentials,u=void 0===(u=e.body)?null:u,l=void 0===(t=e.headers)?null:t,d=(e=void 0===(t=e.trustTokenParameter)?null:t,new window.XMLHttpRequest);try{if(""===n)void 0!==a&&a.call(d,"error");else{d.onload=i.bind(null,d),void 0!==a&&(d.onerror=a),void 0!==c&&(d.ontimeout=c),void 0!==s&&(d.withCredentials=s);var f=null!==u?"POST":"GET";d.open(f,n),null!==l&&"object"===o(l)&&Object.keys(l).forEach((function(e){d.setRequestHeader(e,l[e])}));try{null!==e&&"object"===o(e)&&window.location===window.parent.location&&d.setTrustToken(e)}catch(e){Object(r.b)(e,"setTrustToken")}d.send(u)}}catch(e){void 0!==a&&a.call(d,"error"),Object(r.b)(e,"xhrRequest")}}function a(e,t,n,o){try{if(void 0===n&&(n=document),void 0===e)return"function"==typeof t&&t(!0),!1;var i=n.getElementsByTagName("script")[0]||n.body.firstChild,a=n.createElement("script");if(a.type="text/javascript",a.async=!0,a.src=e,t&&c(a,t),c(a,o||function(){Object(r.b)(new Error("Error Loading Script Tag"),"loadScriptTag-onerror")},[],"onerror"),null!==i.parentNode)return i.parentNode.insertBefore(a,i),!0}catch(e){Object(r.b)(e,"loadScriptTag",{makeVisibleToAllUsers:!0})}return!1}function c(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"onload";try{return"function"==typeof t&&(e[o]=function(){t.apply(null,n)},!0)}catch(e){return Object(r.b)(e,"addCallbackFunction"),!1}}function s(e){try{return encodeURIComponent(JSON.stringify(e))}catch(e){return Object(r.b)(e,"objToUrlParam"),""}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n(1),o=n(0);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){try{return function(e){try{var t;return!!c(e,["number","string"])&&!(isNaN(e)||"number"!=typeof e&&(t=parseInt(e,10),isNaN(t)))}catch(e){return Object(r.b)(e,"isNumber"),!0}}(e)||void 0===e}catch(e){return Object(r.b)(e,"isNumberOrUndefined"),!0}}function c(e,t){try{return Object(o.h)(t,i(e))}catch(e){return Object(r.b)(e,"isVarOfTypes"),!0}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return s}));var r=n(1),o=n(0);function i(e){var t=[];try{e.hasAdServerObjectLoaded()&&(t=e.getSlots())}catch(e){Object(r.b)(e,"getDisplayAdServerSlots")}return t}function a(e){try{return Object(o.k)(e,"sizes")&&Object(o.i)(e.sizes)&&0!==e.sizes.length}catch(e){return Object(r.b)(e,"doesSlotHaveSizes"),!1}}function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){try{return!e.mediaType||-1<t.indexOf(e.mediaType)}catch(e){return Object(r.b)(e,"isSlotOfType"),!0}}}function s(e){try{return e.slotID}catch(e){return Object(r.b)(e,"getSlotID"),""}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return s}));function r(e,t){try{return"number"!=typeof e[t]?0:Math.round(e[t])}catch(e){return 0}}function o(e,t){try{var n=i(e,t)[0];if(void 0!==n)return n}catch(e){}return null}function i(e,t){try{return e.performance.getEntriesByType("resource").filter((function(e){return t.test(e.name)}))}catch(e){return[]}}function a(e,t){try{var n=e.performance.timing[t];return void 0===n?0:n}catch(e){return 0}}function c(e){try{var t;return 0===["redirectStart","redirectEnd","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","secureConnectionStart"].reduce((function(t,n){return t+r(e,n)}),0)?null:(t=r(e,"fetchStart"),["domainLookupStart","domainLookupEnd","connectStart","connectEnd"].reduce((function(n,o){return n&&r(e,o)===t}),!0))}catch(e){return null}}function s(){try{var e=window.performance.timeOrigin;return void 0===e?window.performance.timing.navigationStart:e}catch(e){return 0}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return j})),n.d(t,"e",(function(){return w})),n.d(t,"d",(function(){return T}));var r=n(1),o=n(16),i=n(11),a=n(3),c=n(2),s=n(9),u=n(0),l=n(5);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f,b=["email"],p=/@/,g=/^[0-9a-fA-F]{64}$/,y=((t=f=f||{})[t.noConsent=0]="noConsent",t[t.token=1]="token","https://tk.amazon-adsystem.com/envelope"),m=function(e){return g.test(e||"")};function h(e){return e===f.noConsent?"AMZN-NoCookieConsent":"AMZN-Token"}function O(e,t,n){e=0<arguments.length&&void 0!==e?e:"",t=1<arguments.length&&void 0!==t?t:0,n=2<arguments.length&&void 0!==n?n:f.token;try{var o=new Date(t).toUTCString();l.a.getDefault().cookie.setItem(h(n),e,o)}catch(e){Object(r.b)(e,"setAmznToken-".concat(n))}}function v(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:f.token;try{var t=l.a.getDefault().cookie.getItem(h(e));return t||""}catch(t){return Object(r.b)(t,"getAmznToken-".concat(e)),""}}function j(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"api";try{if(void 0!==e&&"function"!=typeof e)throw new Error("Callback function must be a function, ".concat(d(e)," provided"));"function"!=typeof e&&(e=function(){}),O(),O("",0,f.noConsent),Object(a.c)("id","d-".concat(t))}catch(e){Object(r.b)(e,"deleteIdentity",{makeVisibleToAllUsers:!0})}e()}function S(e,t,n,o){try{t=Object(s.a)(t);var l,d=c.a.getState().config;if(!Object(u.k)(d,"pubID"))throw new Error("apstag.init must be called before ID functions");var b={url:y,onload:function(e){try{if(e.readyState===XMLHttpRequest.DONE&&200===e.status){if("string"!=typeof(l=JSON.parse(e.responseText)).AIPToken||"number"!=typeof l.cookieExpiry)return t(),void Object(r.b)(new Error("Invalid AIPES response"),"callAipes-response");""===l.AIPToken?(Object(a.c)("id","endReqAipes-tokenEmpty"),O("1",l.cookieExpiry,f.noConsent)):(Object(a.c)("id","endReqAipes-tokenAvailable"),Object(a.g)(),n&&O(l.AIPToken,l.cookieExpiry))}else e.readyState===XMLHttpRequest.DONE&&Object(r.b)(new Error("AIPES response code: ".concat(e.status)),"callAipes-onload",{makeVisibleToAllUsers:!0})}catch(e){Object(r.b)(e,"callAipes-onload",{makeVisibleToAllUsers:!0})}t(n?null:l)},onerror:function(){Object(r.b)(new Error("AIPES response code: ".concat(this.status)),"callAipes-onerror",{makeVisibleToAllUsers:!0}),t()},ontimeout:function(){Object(r.b)(new Error("AIPES request timeout"),"callAipes-ontimeout",{makeVisibleToAllUsers:!0}),t()},headers:{"Content-Type":"application/json"},body:function(e,t,n){try{var o={publisherId:t.pubID,hashedRecords:e.hashedRecords};return n.enabled?(o.gdpr=1,void 0!==n.consent&&(o.gdprConsent=n.consent)):0===n.enabled&&(o.gdpr=0),void 0!==e.ttl&&(o.ttl=e.ttl),JSON.stringify(o)}catch(e){return Object(r.b)(e,"buildAipesBody",{makeVisibleToAllUsers:!0}),""}}(e,d,o)};Object(a.c)("id","startReqAipes"),Object(i.d)(b)}catch(e){Object(r.b)(e,"callAipes",{makeVisibleToAllUsers:!0}),t()}}function w(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"api";"function"!=typeof t&&(t=function(){}),"boolean"!=typeof n&&(n=!0);try{if(!Object(u.j)(e))throw new Error("'tokenConfig' must be an object, ".concat("object"===d(e)?"null":d(e)," provided"));e.optOut?j(t,"u-oo"):(j((function(){}),"u"),Object(a.c)("id","u-".concat(i)),function(e){try{var t=[];if(!Object(u.k)(e,"gdpr")||Object(u.j)(e.gdpr)&&!Object(u.i)(e.gdpr)?Object(u.k)(e,"gdpr")&&(Object(u.k)(e.gdpr,"enabled")&&-1===[!0,!1].indexOf(e.gdpr.enabled)&&t.push("`gdpr.enabled` must be a boolean"),Object(u.k)(e.gdpr,"consent"))&&"string"!=typeof e.gdpr.consent&&t.push("'gdpr.consent' must be a valid IAB-formatted string"):t.push("`gdpr` must be an Object"),Object(u.k)(e,"optOut")&&-1===[!0,!1].indexOf(e.optOut)&&t.push("'optOut' must be a boolean"),Object(u.k)(e,"hashedRecords")&&Object(u.i)(e.hashedRecords)?1!==e.hashedRecords.length?t.push("'hashedRecords' must contain exactly one item"):e.hashedRecords.forEach((function(e){Object(u.k)(e,"type")&&-1!==b.indexOf(e.type)||t.push("'type' must be 'email' in item '".concat(JSON.stringify(e),"'")),Object(u.k)(e,"encrypted")&&"boolean"!=typeof e.encrypted&&t.push("'encrypted' must be a boolean in item '".concat(JSON.stringify(e),"'")),Object(u.k)(e,"record")&&"string"==typeof e.record?e.encrypted||g.test(e.record)?e.encrypted&&p.test(e.record)&&t.push("'record' must NOT be an un-hashed, un-encrypted email"):t.push("'record' must be a SHA256 hash in item '".concat(JSON.stringify(e),"'")):t.push("'record' must be a string in item '".concat(JSON.stringify(e),"'"))})):t.push("'hashedRecords' must be an array"),Object(u.k)(e,"ttl")&&("number"!=typeof e.ttl||isNaN(e.ttl)||e.ttl<=0||e.ttl%1!=0)&&t.push("'ttl' must be a positive integer"),!(0<t.length))return 1;Object(r.b)({name:"TokenConfigValidationError",message:"There was an issue with the TokenConfig provided ".concat(JSON.stringify(e),":\n")+t.map((function(e){return"- ".concat(e)})).join("\n")},"validateTokenConfig-invalid",{makeVisibleToAllUsers:!0})}catch(e){Object(r.b)(e,"validateTokenConfig",{makeVisibleToAllUsers:!0})}}(e)?Object(o.a)(e.gdpr,S.bind(null,e,t,n)):t())}catch(e){Object(r.b)(e,"updateIdentity",{makeVisibleToAllUsers:!0}),t()}}function T(e,t,n){"function"!=typeof t&&(t=function(){}),"boolean"!=typeof n&&(n=!0);try{if(!Object(u.j)(e))throw new Error("'tokenConfig' must be an object, ".concat("object"===d(e)?"null":d(e)," provided"));e.optOut?j(t,"r-oo"):""!==v(f.noConsent)?t():""!==v()?(t(),Object(a.c)("id","r-noop")):w(e,t,n,"r")}catch(e){Object(r.b)(e,"renewIdentity",{makeVisibleToAllUsers:!0}),t()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return O}));var r=n(1),o=n(3),i=n(0),a=n(2);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){var r,o;r=e,o=n[t=t],t in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},d="__tcfapi";function f(e,t){var n,a=!1,s={log:{status:"no-status"}},f=50,b="global-func-error";function p(){a||(a=!0,t(u(u({},s),{},{log:u({},s.log)})))}t=Object(r.d)(t,"GdprCallback");try{if(!1===(e=Object(i.j)(e)?u({},e):{}).enabled||0===e.enabled?(s.log.status="explicit-no-gdpr",s.enabled=0):!0===e.enabled||1===e.enabled?(s.log.status=Object(i.k)(e,"consent")?"explicit-consent-passed":"explicit-no-consent-passed",s.enabled=1,s.consent=e.consent):Object(i.k)(e,"enabled")&&(s.log.status=Object(i.k)(e,"consent")?"malformed-with-consent":"malformed-without-consent",s.consent=e.consent,l(e.enabled)?s.enabled=e.enabled:s.enabled=1),Object(i.k)(e,"enabled")&&(s.log.enabled=e.enabled),Object(i.k)(e,"cmpTimeout")&&l(e.cmpTimeout)&&(f=e.cmpTimeout,s.log.cmpTimeout=f),void 0!==s.enabled)return Object(o.c)("gdpr","pub-api"),Object(i.k)(s,"consent")&&"string"!=typeof s.consent&&(delete s.consent,Object(r.b)(new Error("Invalid consent: must be string, given ".concat(c(s.consent))),"getGdprConfig-pub-consent-invalid",{makeVisibleToAllUsers:!0})),void p()}catch(e){Object(r.b)(e,"getGdprConfig-parseConfig",{makeVisibleToAllUsers:!0})}try{Object(i.k)(window,d)&&"function"==typeof window[d]?(n="tcfv2",Object(o.c)("gdpr",n),setTimeout((function(){s.log.status="".concat(n,"-timeout"),p()}),f),b="".concat(n,"-internal-error"),window[d]("getTCData",2,(function(e,t){try{if(t&&Object(i.j)(e)){if(s.log.status="".concat(n,"-success"),Object(i.k)(e,"tcString")?s.consent=e.tcString:Object(i.k)(e,"consentData")&&(s.consent=e.consentData),s.enabled=e.gdprApplies?1:0,0===s.enabled&&delete s.consent,s.gdprApplies=e.gdprApplies,Object(i.k)(e,"tcString")&&0<(e.tcString||"").length){var o=e.tcString;try{Object(i.k)(window,d)&&"function"==typeof window[d]&&window[d]("addEventListener",2,(function(e,t){"string"==typeof o&&0!==o.length&&e.tcString!==o&&Object(r.b)(new Error("mismatched tcString: "+"".concat(t," - ").concat(null==(t=e.tcString)?void 0:t.length," - ").concat(o.length)+" - ".concat(e.eventStatus)),"checkMatchingTcf-param-mismatch")}))}catch(e){Object(r.b)(e,"checkMatchingTcf")}}}else s.log.status="".concat(n,"-error");p()}catch(e){s.log.status="func-error",p(),Object(r.b)(e,"cmpCallback-".concat(n),{makeVisibleToAllUsers:!0})}}))):(Object(o.c)("gdpr","no-cmp"),s.log.status="no-cmp",p())}catch(e){s.log.status=b,p(),Object(r.b)(e,"getGdprConfig-".concat(b),{makeVisibleToAllUsers:!0})}}function b(e){for(var t=[],n=-1;0<=(n=e.indexOf("1",n+1));)t.push(n+1);return t}function p(e){for(var t=[],n=parseInt(y(e,12),2),r=0;r<n;r++){var o=parseInt(y(e,1),2),i=parseInt(y(e,16),2);if(t.push(i),o)for(var a=parseInt(y(e,16),2),c=i+1;c<=a;c++)t.push(c)}return t}function g(e){var t=parseInt(y(e,16),2);return parseInt(y(e,1),2)?p(e):b(y(e,t))}function y(e,t){var n=e.bits.substr(e.index,t);return e.index+=t,n}function m(e){try{var t,n,o;return!!e&&(!((t=function(e){try{for(var t=(e=(e=e.replace(/-/g,"+")).replace(/_/g,"/")).split(".")[0],n=window.atob(t),o="",i=0;i<n.length;i++)o+=("0000000"+n.charCodeAt(i).toString(2)).substr(-8);return o}catch(t){return Object(r.b)(new Error("TCF string conversion failed. (TCF string: ".concat(e,")")),"TCFToBinary",{makeVisibleToAllUsers:!0}),""}}(e)).length<230)&&(o={bits:t,index:0},(n={}).version=parseInt(y(o,6),2),2===n.version)&&(n.created=parseInt(y(o,36),2),n.lastUpdated=parseInt(y(o,36),2),n.cmpId=parseInt(y(o,12),2),n.cmpVersion=parseInt(y(o,12),2),n.consentScreen=parseInt(y(o,6),2),n.consentLanguage=String.fromCharCode(parseInt(y(o,6),2)+65)+String.fromCharCode(parseInt(y(o,6),2)+65),n.vendorListVersion=parseInt(y(o,12),2),n.tcfPolicyVersion=parseInt(y(o,6),2),n.isServiceSpecific="1"===y(o,1),n.useNonStandardStacks="1"===y(o,1),n.specialFeatureOptIns=b(y(o,12)),n.purposesConsent=b(y(o,24)),n.purposesLITransparency=b(y(o,24)),n.purposeOneTreatment="1"===y(o,1),n.publisherCC=String.fromCharCode(parseInt(y(o,6),2)+65)+String.fromCharCode(parseInt(y(o,6),2)+65),n.vendorConsents=g(o),n.vendorLegitimateInterests=g(o),n.publisherRestrictions=function(e){for(var t=parseInt(y(e,12),2),n=[],r=0;r<t;r++){var o=parseInt(y(e,6),2),i=parseInt(y(e,2),2);n.push({purposeId:o,restrictionType:i,vendorIds:p(e)})}return n}(o),n))}catch(e){return Object(r.b)(e,"parseTCFString",{makeVisibleToAllUsers:!0}),!1}}function h(e){var t=[];try{var n=Date.now(),r=(e||t.push("Invalid tcString: ".concat(e)),2!==e.version&&t.push("tcString version not supported: ".concat(e.version)),e.useNonStandardStacks&&t.push("tcString's useNonStandardStacks should not be true"),e.isServiceSpecific||t.push("tcString needs to be service specific"),e.vendorListVersion<51&&t.push("tcString is outdated (minimum vendor list version 51)"),e.publisherRestrictions?e.publisherRestrictions.filter((function(e){return 1===e.purposeId&&0<=e.vendorIds.indexOf(793)})):[]);if(0===r.length)v(e)||t.push("Invalid publisher restrictions");else switch(r[0].restrictionType){case 0:case 2:t.push("Invalid publisher restrictions");break;default:v(e)||t.push("Invalid publisher restrictions")}return a.a.dispatch({type:"RECORD_TCF_PARSE_TIME",time:Date.now()-n}),t}catch(e){if(t.length)return t;throw e}}function O(e,t){if(!e)return!!window.apstag&&!window.apstag.isGDPRRegion&&!0!==t;if(window.apstag&&!window.apstag.isGDPRRegion&&!1===t)return!0;if(2!==e.version)return!1;if(e.useNonStandardStacks)return!1;if(!e.isServiceSpecific)return!1;if(e.vendorListVersion<51)return!1;if(0===(t=e.publisherRestrictions.filter((function(e){return 1===e.purposeId&&0<=e.vendorIds.indexOf(793)}))).length)return v(e);switch(t[0].restrictionType){case 0:case 2:return!1;default:return v(e)}}function v(e){return!(!Object(i.k)(e,"vendorConsents")||!Object(i.k)(e,"purposesConsent"))&&0<=e.vendorConsents.indexOf(793)&&0<=e.purposesConsent.indexOf(1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),o=n(1),i=n(6),a=n(3);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var u=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");s(this,"_slotConfig",void 0),s(this,"rawSlot",void 0),this._slotConfig=t,this.rawSlot=t}var t,n;return t=e,(n=[{key:"slotID",get:function(){return this._slotConfig.slotID}},{key:"slotName",get:function(){return this._slotConfig.slotName}},{key:"slotParams",get:function(){return this._slotConfig.slotParams}},{key:"slotConfig",get:function(){return{slotID:this.slotID,slotName:this.slotName,sizes:this.sizes}}},{key:"mediaType",get:function(){return i.a.DISPLAY}},{key:"sizes",get:function(){return[]}},{key:"floor",get:function(){var e;return Object(r.k)(this._slotConfig,"floor")&&"USD"===this._slotConfig.floor.currency&&this.validateFloorValue(this._slotConfig.floor.value)?(e=this._slotConfig.floor,Object(a.c)("customFloor","y")):Object(a.c)("customFloor","n"),e}},{key:"aaxSlotParams",get:function(){var e=this;try{return Object(r.k)(this,"slotParams")&&Object(r.j)(this.slotParams)?Object.keys(this.slotParams).filter((function(t){return e.validateSlotParamValue(e.slotParams[t])})).reduce((function(t,n){return t[n]=e.slotParams[n],t}),{}):void 0}catch(e){return this.reportError(e,"aaxSlotParams"),this.slotParams}}},{key:"aaxSlot",get:function(){Object(a.c)("slotType",this.mediaType);var e={kv:this.aaxSlotParams};return this.floor&&(e.fc=this.floor.currency,e.fp=this.floor.value),e}},{key:"isValid",value:function(){var e,t,n=[],o=[];return void 0===this.slotID?n.push("'slotID' must be provided and a string"):"string"!=typeof this.slotID&&o.push("'slotID' must be a string"),Object(r.k)(this._slotConfig,"floor")&&Object(r.j)(this._slotConfig.floor)&&(e=(t=this._slotConfig.floor).currency,t=t.value,"USD"!==e&&o.push("'floor' currency only supports USD"),this.validateFloorValue(t)||o.push("'floor' value must be a positive integer")),0<n.length?(this.reportIsValidMessages([].concat(n,o),!0),!1):(0<o.length&&this.reportIsValidMessages(o,!1),!0)}},{key:"reportError",value:function(e,t,n){Object(o.b)(e,"Slot-".concat(t),n)}},{key:"setTargeting",value:function(e,t){}},{key:"getTargeting",value:function(e){return[]}},{key:"clearTargeting",value:function(e){}},{key:"reportIsValidMessages",value:function(e,t){this.reportError({name:"SlotValidationError",message:this.buildIsValidMessage(e,this._slotConfig)},"validation-".concat(t?"error":"warn"),{makeVisibleToAllUsers:!0})}},{key:"validateSlotParamValue",value:function(e){var t=this;try{return Object(r.i)(e)?0<e.length&&e.reduce((function(e,n){return e&&t.validateSlotParamValue(n)}),!0):"string"==typeof e&&0<e.length}catch(e){return Object(o.b)(e,"validateSlotParamValue"),!1}}},{key:"validateFloorValue",value:function(e){return"number"==typeof e&&0<e&&e%1==0}},{key:"buildIsValidMessage",value:function(e,t){return"There was an issue with the configuration for this slot: ".concat(JSON.stringify(t),"\n")+e.map((function(e){return"- ".concat(e)})).join("\n")}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),(n=r=r||{}).DISPLAY="d",n.VIDEO="v",n.MULTI_FORMAT="mf"},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n.d(t,"a",(function(){return i}));var i=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");o(this,"isSupported",!1),o(this,"needNewBidObject",!1)}var t,n;return t=e,(n=[{key:"cmdQueuePush",value:function(e){}},{key:"slotRenderEndedEvent",value:function(e){}},{key:"setTargeting",value:function(e,t){}},{key:"getTargeting",value:function(e){return[]}},{key:"clearTargeting",value:function(e,t){}},{key:"hasAdServerObjectLoaded",value:function(){return!1}},{key:"isCommandQueueDefined",value:function(){return!1}},{key:"getSlots",value:function(){return[]}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"g",(function(){return m})),n.d(t,"a",(function(){return S})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return T}));var r=n(1),o=n(0),i=n(3),a=n(2),c=n(4),s=n(6);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(){var t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=this,o=e;if(!(r instanceof o))throw new TypeError("Cannot call a class as a function");r=void 0,(o="_rawProps")in(t=this)?Object.defineProperty(t,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[o]=r,this._rawProps=n}var t,n;return t=e,(n=[{key:"source",get:function(){return"web"}},{key:"omsdkAccessMode",get:function(){return"limited"}},{key:"publisherType",get:function(){var e=a.a.getState().config;return e&&!0===e.isSelfServePub?s.b.SELF_SERVE_WEB:s.b.MANAGED_WEB}},{key:"publisherUUID",get:function(){var e=a.a.getState().config;if(e)return e.pubID}},{key:"integratorVersion",get:function(){return c.l}},{key:"bidId",get:function(){var e=this._rawProps.bidId;if("string"==typeof e)return e}},{key:"dealId",get:function(){var e=this._rawProps.dealId;if("string"==typeof e)return e}},{key:"hostName",get:function(){var e=this._rawProps.hostName;if("string"==typeof e)return e}},{key:"pricePoint",get:function(){var e=this._rawProps.pricePoint;if("string"==typeof e)return e}},{key:"targetingMap",get:function(){var e=this._rawProps.targetingMap;if("string"==typeof e)return e}},{key:"adServerType",get:function(){var e=a.a.getState().config;if(e)return e.adServer}},{key:"adServerAdUnitId",get:function(){var e=this._rawProps.adServerAdUnitId;if("string"==typeof e)return e}},{key:"apsAdUnitId",get:function(){var e=this._rawProps.apsAdUnitId;if("string"==typeof e)return e}},{key:"getProperties",value:function(){return JSON.stringify({source:this.source,omsdkAccessMode:this.omsdkAccessMode,publisherType:this.publisherType,publisherUUID:this.publisherUUID,integratorVersion:this.integratorVersion,bidId:this.bidId,hostName:this.hostName,dealId:this.dealId,pricePoint:this.pricePoint,targetingMap:this.targetingMap,adServerType:this.adServerType,adServerAdUnitId:this.adServerAdUnitId,apsAdUnitId:this.apsAdUnitId})}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function d(e,t){try{if(Object(o.k)(t,"slotID")){var n=t.slotID,i=e.getElementById(n);if(i instanceof HTMLDivElement)return i}}catch(e){Object(r.b)(e,"getVideoDivElement-outstream")}}function f(e,t){try{Object(o.k)(e,"bidID")&&(t+="b=".concat(e.bidID)),Object(o.k)(e,"pp")&&void 0===e.dealId&&(t+="&pp=".concat(e.pp)),t+="&rnd=".concat(Object(o.d)())}catch(e){Object(r.b)(e,"constructVastTag")}return t}function b(e,t,n){try{var o={bidId:null==n?void 0:n.bidID,hostName:null==n?void 0:n.host,dealId:null==n?void 0:n.dealId,pricePoint:null==n?void 0:n.pp,apsAdUnitId:null==n?void 0:n.slotID},i={key:"$$videoPlayerProps$$",value:new l(o).getProperties()},a=t;return[i,{key:"$$apstagVastTag$$",value:e}].forEach((function(e){var t=e.key;e=e.value;a=a.replace(t,e)})),a}catch(e){return Object(r.b)(e,"constructVastTag"),""}}var p={},g=function(e){return p[e]||(p[e]={started:!1,completed:!1,loaded:!1,isPaused:!1}),p[e]},y={root:null,rootMargin:"0px",threshold:.5};function m(e,t,n){try{var o;window.addEventListener("message",(function(e){h(e,n)})),window.IntersectionObserver?(o=new window.IntersectionObserver((function(r){r.forEach((function(r){.5<r.intersectionRatio&&t.contentWindow&&(O(t,e,n),o.disconnect())}))}),y)).observe(e):Object(r.b)({name:"IntersectionObserver",message:"IntersectionObserver not supported "},"startVideoAndHandlePlayback")}catch(e){Object(r.b)(e,"startVideoAndHandlePlayback")}}function h(e,t){if(e.origin===window.top.location.origin&&!0===e.data.apsVideoPlayer)switch(e.data.event){case"completed":g(t).completed=!0;break;case"loaded":var n;g(t).loaded=!0,a.a.getState().outstream.shouldSample&&(n=Date.now()-a.a.getState().outstream.renderStart,Object(i.e)("loaded",t,n))}}function O(e,t,n){try{null!==e.contentDocument&&Object(o.h)(["complete","interactive"],e.contentDocument.readyState)?j(e,t,n):null!==e.contentDocument&&"uninitialized"!==e.contentDocument.readyState?e.contentDocument.addEventListener("DOMContentLoaded",(function(){j(e,t,n)})):e.addEventListener("load",(function(){j(e,t,n)})),setTimeout(j,1e3,!0)}catch(e){Object(r.b)(e,"loadVideoAd")}}function v(e,t,n){try{var o;window.IntersectionObserver&&(o=new window.IntersectionObserver((function(t){t.forEach((function(t){g(n).completed&&o.disconnect(),t.intersectionRatio<.5&&!g(n).isPaused?e.contentWindow&&e.contentWindow.adsM&&(e.contentWindow.adsM.pause(),g(n).isPaused=!0):g(n).isPaused&&e.contentWindow&&e.contentWindow.adsM&&(e.contentWindow.adsM.play(),g(n).isPaused=!1)}))}),{threshold:.5})).observe(t)}catch(t){Object(r.b)(t,"handleAutoPauseAndPlay")}}function j(e,t,n){e.contentWindow&&!g(n).started&&(g(n).started=!0,function(e,t,n){var r=Number(new Date)+(t||2e3);return n=n||100,new Promise((function t(o,i){var a=e();a?o(a):Number(new Date)<r?setTimeout(t,n,o,i):i(new Error("apsVideoPlayer timed out"))}))}((function(){return g(n).loaded}),3e4,100).then((function(){e.contentWindow&&e.contentWindow.adsM&&(e.contentWindow.adsM.play(),v(e,t,n))})).catch((function(){v(e,t,n),Object(r.b)({name:"VideoPlayerTimeout",message:"video player took more than 30 seconds to load"},"startAd")})))}function S(e,t){try{t&&t.appendChild(e)}catch(e){Object(r.b)(e,"_appendDivElement")}}function w(e,t){try{e.appendChild(t)}catch(e){Object(r.b)(e,"_insertVideoIframeInsideDiv")}}function T(e){var t=document.createElement("div");return t.style.width="".concat(e[0],"px"),t.style.height="".concat(e[1],"px"),t.style.margin="0 auto",t.id="apsVideoDiv-".concat(Object(o.d)()),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a="__tcfapi",c="isListenedTo",s="consentManagementPlatform",u=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");i(this,"store",void 0),i(this,"globalContext",void 0),this.store=t.stateContainer,this.globalContext=t.globalContext}var t,n,u;return t=e,u=[{key:"readStoredConsentData",value:function(e){return null==(e=e.getState()[s])?void 0:e.tcData}}],(n=[{key:"isListenerActive",get:function(){return this.isListenedTo}},{key:"isListenedTo",get:function(){var e;return(null==(e=this.store.getState()[s])?void 0:e[c])||!1},set:function(e){this.store.dispatch(i({type:"RECORD_CMP_LISTENED_TO"},c,e))}},{key:"writeConsentDataToStore",value:function(e){this.store.dispatch(i({type:"RECORD_CMP_CONSENT_DATA"},"tcData",e))}},{key:"onConsentDataChange",value:function(e,t,n){try{t?(this.isListenedTo=!0,e&&this.writeConsentDataToStore(e),null!=n&&n(!0)):null!=n&&n(!1)}catch(e){Object(r.b)(e,"attemptConsentDataSync-onConsentDataChange")}}},{key:"syncConsentData",value:function(e){var t=this;this.globalContext[a]?this.globalContext[a]("addEventListener",2,(function(n,r){return t.onConsentDataChange(n,r,e)})):null!=e&&e(!1)}},{key:"syncConsentDataIfNotSynced",value:function(e){this.isListenedTo?null!=e&&e(!0):this.syncConsentData(e)}},{key:"attemptConsentDataSync",value:function(e){try{this.syncConsentDataIfNotSynced(e)}catch(t){Object(r.b)(t,"attemptConsentDataSync"),null!=e&&e(!1)}}}])&&o(t.prototype,n),u&&o(t,u),Object.defineProperty(t,"prototype",{writable:!1}),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),o=n(1),i=n(3);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var s=function(){function e(t){var n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=this,i=e;if(!(o instanceof i))throw new TypeError("Cannot call a class as a function");c(this,"validSizeStringRegex",/^[0-9]+x[0-9]+$/),c(this,"numberStringRegex",/^[0-9]+$/),c(this,"_sizes",void 0),c(this,"_permit1D",!0),c(this,"_allowUndefined",!1),this._sizes=t,this._permit1D=n,this._allowUndefined=r}var t,n;return t=e,(n=[{key:"isValid",value:function(){return!(void 0!==this._sizes||!this._allowUndefined)||0<this.sizes.length}},{key:"sizes",get:function(){var e=this;try{var t=[];if(Object(r.i)(this._sizes)){this._sizes=this._sizes.filter((function(e){return"fluid"!==e}));var n="2d",i=this._sizes;if(i&&0<i.length&&!Object(r.i)(i[0])&&("string"!=typeof i[0]||!this.validSizeStringRegex.test(i[0]))){if(!this._permit1D)throw new Error("Sizes must be 2d array");n="1d",i=[i]}t=i.filter((function(t){return e.isValidSize(n,t)})).map((function(e){return Object(r.i)(e)?e:e.split("x").map((function(e){return parseInt(e,10)}))}))}return t}catch(t){return Object(o.b)(t,"SizesDelegate-getSizes"),[]}}},{key:"aaxSizes",get:function(){if(void 0!==this._sizes||!this._allowUndefined)return this.sizes.filter(r.i).map((function(e){return e.join("x")}))}},{key:"isValidSize",value:function(e,t){var n=this,a=[];function c(e){e=JSON.stringify(e),-1===a.indexOf(e)&&(a.push(e),Object(o.b)({name:"SizesDelegate-isValidSize-invalid",message:"Invalid Slot Size: ".concat(JSON.stringify(t))},"SizesDelegate-isValidSize-invalid"))}try{return"string"==typeof t&&this.validSizeStringRegex.test(t)?(Object(i.c)("AaxSlotSizes","".concat(e,"-compiled")),!0):Object(r.i)(t)&&1!==t.length?(2<t.length&&c(t),t.slice(0,2).reduce((function(t,r){return t&&("number"==typeof r||"string"==typeof r)&&!("string"==typeof r&&!n.numberStringRegex.test(r)||("string"==typeof r?Object(i.c)("AaxSlotSizes","".concat(e,"-string")):Object(i.c)("AaxSlotSizes","".concat(e,"-number")),0))}),!0)):(c(t),!1)}catch(c){return Object(o.b)(c,"isValidSize"),!0}}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));t=n(17);var r=n(0),o=n(1),i=n(6);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);n=t?(n=p(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===a(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return b(r)}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var y=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e);var n=f(a);function a(e){var t;if(this instanceof a)return g(b(t=n.call(this,{slotID:e.getSlotElementId(),slotName:e.getAdUnitPath()})),"rawSlot",void 0),t.rawSlot=e,t;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"mediaType",get:function(){return i.a.DISPLAY}},{key:"sizes",get:function(){try{var e=Object(r.g)(window).split("x").map((function(e){return Number(e)})),t=this.rawSlot.getSizes(e[0],e[1]);return null===t?[]:t.filter((function(e){return"fluid"!==e})).map((function(e){return[e.getWidth(),e.getHeight()]}))}catch(e){return this.reportError(e,"sizes"),[]}}},{key:"aaxSlot",get:function(){var e=s(s({},l(p(a.prototype),"aaxSlot",this)),{},{sd:this.slotID,s:this.sizes.filter(r.i).map((function(e){return e.join("x")}))});return this.slotID!==this.slotName&&(e.sn=this.slotName),e}},{key:"isValid",value:function(){return!(!l(p(a.prototype),"isValid",this).call(this)||0===this.sizes.length&&(this.reportIsValidMessages(["'sizes' must have at least 1 valid item"],!0),1))}},{key:"reportError",value:function(e,t,n){Object(o.b)(e,"GptSlot-".concat(t),n)}},{key:"setTargeting",value:function(e,t){try{this.rawSlot.setTargeting(e,t)}catch(e){this.reportError(e,"setTargeting")}}},{key:"getTargeting",value:function(e){try{return this.rawSlot.getTargeting(e)}catch(e){return this.reportError(e,"getTargeting"),[]}}},{key:"clearTargeting",value:function(e){try{this.rawSlot.clearTargeting(e)}catch(e){this.reportError(e,"clearTargeting")}}}])&&u(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(t.a)},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n(1),o=n(0);function i(e){try{return!(!Object(o.k)(e,"$sf")||!Object(o.k)(e.$sf,"ext"))}catch(e){return Object(r.b)(e,"isSafeFrame"),!1}}function a(e,t){try{var n=t.innerWidth,o=t.innerHeight,i=parseInt(e[0],10),a=parseInt(e[1],10),c=i-n,s=a-o,u=t.sfAPI||t.$sf.ext;!u||n===i&&o===a||(u.register(i,a),u.expand({r:c,b:s,push:!0}))}catch(e){Object(r.b)(e,"expandSf")}}function c(e){try{return 1===e.innerWidth&&1===e.innerHeight}catch(e){return Object(r.b)(e,"is1x1Creative"),!1}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"c",(function(){return O})),n.d(t,"e",(function(){return v})),n.d(t,"d",(function(){return j})),n.d(t,"b",(function(){return _}));var i=n(11),u=n(1),a=n(30),l=n(4),c=n(2),d=n(5),f=n(0),s=n(3),b=n(16),r=n(31);function p(e,t){var n,r,o,i,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return r=!(n=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return n=e.done,e},e:function(e){r=!0,o=e},f:function(){try{n||null==a.return||a.return()}finally{if(r)throw o}}};if(Array.isArray(e)||(a=g(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e,t){var n;if(e)return"string"==typeof e?o(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){h(e),m(e)}function m(e){try{var t,n=d.a.getDefault().sessionStorage,r="aps_targeting_comscore",o=n.getItem(r,{isJson:!0});n.removeItem(r),o&&(t="vnd_prx_segments",e.setTargeting(t,o[t]))}catch(e){Object(u.b)(e,"applyComscoreTargeting")}}function h(e){try{var t,n,r,o,i,a=d.a.getDefault().sessionStorage,c="aps_targeting_ias",s=a.getItem(c,{isJson:!0});a.removeItem(c),s&&(t=s.targeting.slots[e.slotID],Object.keys(t).forEach((function(n){var r=t[n];e.setTargeting(n,r)})),n=s.targeting,r=n.brandSafety,o=n.fr,i=n.custom,r&&Object.keys(r).forEach((function(e){var t=r[e];window.googletag.pubads().setTargeting(e,t)})),i&&Object.keys(i).forEach((function(e){var t=i[e];window.googletag.pubads().setTargeting(e,t)})),o)&&window.googletag.pubads().setTargeting("fr",o)}catch(n){Object(u.b)(n,"applyIasTargeting")}}function O(){var r=c.a.getState().experiments.shouldSampleLatency,o=Date.now(),e=Object(a.a)(window.location,window.top.location);if(null!==e){var t={url:e,withCredentials:!0,onload:function e(t){if(200===t.status)try{c.a.dispatch({type:"RECORD_LIBRARY_LOAD_CALL_LATENCY",latency:Date.now()-o}),r&&setTimeout(s.d,1e3);var n=JSON.parse(t.response);eval(n["3pvendor"]),Object(b.a)(c.a.getState().config.gdpr,(function(e){var t;e&&(t=Object(b.c)(e.consent),Object(d.b)())&&Object(b.d)(t,e.gdprApplies)&&d.a.getDefault().localStorage.setItem(l.e,"1")}))}catch(e){Object(u.b)(e,"load3PLibraryConfig-onload")}},onerror:function(e){e=new Error("".concat(e.type,": ").concat(e.loaded," bytes transferred")),Object(u.b)(e,"load3PLibraryConfig-onerror")}};try{Object(i.d)(t)}catch(e){Object(u.b)(e,"load3PLibraryConfig")}r&&setTimeout(s.d,1e3)}}function v(){return Object(f.k)(window,"creativeVendorLibraryLoaded")&&!0===window.creativeVendorLibraryLoaded||Object(f.k)(window,"confiant")}function j(){var e={renderTimes:{}};window.addEventListener("message",(function(t){Object(r.a)(e,t)}))}function S(e){if(e)try{var t,n=JSON.parse(window.atob(decodeURIComponent(e))),r={id:n.envelope,newGen:2},o=d.a.getDefault().localStorage;return Object(f.k)(n,"timestamp")&&(!(t=o.getItem(l.m))||t<n.timestamp?(r.newGen=1,o.setItem(l.m,n.timestamp)):r.newGen=0),r}catch(t){return{id:decodeURIComponent(e),newGen:2}}return!1}var w=["_publink","_publink_srv","_pbjs_publink"];function T(){try{var e,t=p(w);try{for(t.s();!(e=t.n()).done;){var n,r=e.value,o=d.a.getDefault().cookie.getItem(r,{isJson:!0});if(o)return null!=(n=o.publink)&&n}}catch(e){t.e(e)}finally{t.f()}return!1}catch(e){return!1}}function _(){try{var e,t,n,r,o,i,a,c,s={ids:{}};return"1"===d.a.getDefault().localStorage.getItem(l.e)&&((e=d.a.getDefault().localStorage.getItem("id5id"))&&(s.ids.id5=JSON.parse(decodeURIComponent(e)).universal_uid),(t=d.a.getDefault().localStorage.getItem("_pubcid"))&&(s.ids.pubcommon=t),n=!1,d.a.getDefault().localStorage.getItem("_lr_env")?n=S(d.a.getDefault().localStorage.getItem("_lr_env")):d.a.getDefault().cookie.getItem("_lr_env")?(r=d.a.getDefault().cookie.getItem("_lr_env"))&&(n=S(r)):d.a.getDefault().localStorage.getItem("idl_env")?n=S(d.a.getDefault().localStorage.getItem("idl_env")):d.a.getDefault().cookie.getItem("idl_env")&&(o=d.a.getDefault().cookie.getItem("idl_env"))&&(n=S(o)),n&&(s.ids.liveRamp=n.id,Object(f.k)(n,"newGen"))&&(s.md={liveRamp:n.newGen}),(i=d.a.getDefault().localStorage.getItem("hadronId")||d.a.getDefault().localStorage.getItem("auHadronId"))&&(s.ids.audigent=i),(a=d.a.getDefault().localStorage.getItem("panoramaId"))&&(s.ids.lotame=a),c=T())&&(s.ids.publink=c),s}catch(e){Object(u.b)(e,"getIdentityConfig")}return{ids:{}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),o=(t=n(19),n(1)),i=n(23);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);n=t?(n=d(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===a(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return l(r)}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var n=u(a);function a(){var e=this,t=a;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var r,o,i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return o=!0,(r="isSupported")in(t=l(e=n.call.apply(n,[this].concat(c))))?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,e}return t=a,(e=[{key:"reportError",value:function(e,t){Object(o.b)(e,"GoogletagAdServer-".concat(t))}},{key:"cmdQueuePush",value:function(e){try{window.googletag.cmd.push(e)}catch(e){this.reportError(e,"cmdQueuePush")}}},{key:"slotRenderEndedEvent",value:function(e){try{window.googletag.pubads().addEventListener("slotRenderEnded",(function(t){t=new i.a(t.slot),e(t)}))}catch(e){this.reportError(e,"slotRenderEndedEvent")}}},{key:"setTargeting",value:function(e,t){try{window.googletag.pubads().setTargeting(e,t)}catch(e){this.reportError(e,"setTargeting")}}},{key:"getTargeting",value:function(e){try{return window.googletag.pubads().getTargeting(e)||[]}catch(e){return this.reportError(e,"getTargeting"),[]}}},{key:"clearTargeting",value:function(e){try{window.googletag.pubads().clearTargeting(e)}catch(e){this.reportError(e,"clearTargeting")}}},{key:"hasAdServerObjectLoaded",value:function(){try{return Object(r.k)(window,"googletag")&&Object(r.k)(window.googletag,"apiReady")&&!0===window.googletag.apiReady}catch(e){return this.reportError(e,"hasAdServerObjectLoaded"),!1}}},{key:"isCommandQueueDefined",value:function(){try{return Object(r.k)(window,"googletag")&&Object(r.k)(window.googletag,"cmd")}catch(e){return this.reportError(e,"isCommandQueueDefined"),!1}}},{key:"getSlots",value:function(){try{return window.googletag.pubads().getSlots().map((function(e){return new i.a(e)}))}catch(e){return this.reportError(e,"getSlots"),[]}}}])&&c(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(t.a)},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r=n(4),o=n(0),i=n(1);function a(e){try{return Object(o.k)(e,"debug")}catch(e){return Object(i.b)(e,"isApstagLibrary"),!1}}function c(e){try{return!!Object(o.k)(e,r.a)&&!0===e[r.a]}catch(e){return Object(i.b)(e,"hasApstagJsLoaded"),!1}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));t=n(17);var r=n(22);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);n=t?(n=f(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===o(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return d(r)}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var p=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e);var n=l(o);function o(e){if(this instanceof o)return b(d(e=n.call(this,e)),"_sizesDelegate",void 0),e._sizesDelegate=new r.a(e.rawSlot.sizes),e;throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"sizes",get:function(){return this._sizesDelegate.sizes}},{key:"aaxSizes",get:function(){return this._sizesDelegate.aaxSizes||[]}},{key:"aaxSlot",get:function(){var e={sd:this.slotID,s:this.aaxSizes};return this.slotID!==this.slotName&&(e.sn=this.slotName),a(a({},e),s(f(o.prototype),"aaxSlot",this))}},{key:"isValid",value:function(){return!(!s(f(o.prototype),"isValid",this).call(this)||0===this.sizes.length&&(this.reportIsValidMessages(["'sizes' must have at least 1 valid item"],!0),1))}}])&&c(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),o}(t.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n(2),o=n(1),i=n(0),a=n(11);function c(e){try{var t=r.a.getState().cfg.COOKIE_MATCH_DELAY;setTimeout((function(){try{if(Object(i.k)(e,"cmp")){var t=e.cmp;function n(e){try{var t;r.a.getState().cmpFired||(r.a.dispatch({type:"CMP_FIRED"}),(t=document.createElement("iframe")).style.display="none",t.src=e,document.body.appendChild(t))}catch(e){Object(o.b)(e,"_doCookieMatch-ready")}}try{"loading"===document.readyState?document.addEventListener&&document.addEventListener("DOMContentLoaded",(function(){n(t)}),!1):n(t)}catch(t){Object(o.b)(t,"_doCookieMatch")}}else Object(i.k)(e,"cmpjs")&&Object(a.b)(e.cmpjs)}catch(t){Object(o.b)(t,"_tryCookieMatch-setTimeout")}}),t)}catch(t){Object(o.b)(t,"_tryCookieMatch")}}function s(e,t){var n=t;return function(){var t={method:e,args:arguments};try{t.ts=Date.now(),r.a.dispatch({type:"LOG_EVENT",event:t})}catch(t){Object(o.b)(t,"_logEvent")}return n.apply(void 0,arguments)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),o=n(1),i=n(8),a=n(4);function c(e,t){try{var n,c=r.a.getState(),s=c.config,u=Object(i.c)("host",c.hosts.DEFAULT_CXM_HOST),l=c.cfg.LIB_CONFIG_PATH;try{if(0<=["http:","https:"].indexOf(e.protocol))n=e.protocol+"//"+e.hostname;else{if(!(0<=["http:","https:"].indexOf(t.protocol)))return null;n=t.protocol+"//"+t.hostname}}catch(e){if(e instanceof window.DOMException)return null;throw e}var d,f={src:s.isSelfServePub?a.t:s.pubID,u:encodeURIComponent(n)};return s.isSelfServePub&&(f.pubid=s.pubID),!f.src||isNaN(Number(f.src))?null:(d=Object.keys(f).map((function(e){return"".concat(e.trim(),"=").concat(String(f[e]).trim())})).join("&"),"".concat(a.s).concat(u).concat(l,"?").concat(d))}catch(e){return Object(o.b)(e,"buildLibraryConfigUrl"),null}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),o=n(9),i=n(10),a=n(3);function c(e,t){var n,c,s,u,l,d;Object(r.j)(t.data)?(Object(r.k)(t.data,"bidInfo")&&(Object(r.k)(t.data.bidInfo,"src")?(n=t.data.bidInfo.src,n=new URL(n).searchParams.get("b")):Object(r.k)(t.data.bidInfo,"jsonp")&&(l=t.data.bidInfo.jsonp,n=JSON.parse(l.substr(17,l.length-20)).amzniid)),Object(r.k)(t.data,"renderData")&&(c=(l=t.data.renderData).id,Object(r.k)(l,"renderStart")||Object(r.k)(l,"renderEnd"))&&(d=l.renderStart,l=l.renderEnd,d?(e.renderTimes[c]={timeStamp:d},n&&(e.renderTimes[c].bidId=n)):l&&Object(r.k)(e.renderTimes,c)&&0!==e.renderTimes[c].timeStamp&&(d=l-e.renderTimes[c].timeStamp,l={_type:"iframeRender",c:"dtb",pid:i.b,crt:d},(n=e.renderTimes[c].bidId?e.renderTimes[c].bidId:n)?Object(a.a)(n,l):Object(a.b)(l))),Object(r.k)(t.data,"blockData")&&(d=t.data.blockData.blockInfo,e={_type:"malwareBlock",c:"dtb",tpbr:1,pid:i.b,info:d},n?Object(a.a)(n,e):Object(a.b)(e)),Object(r.k)(t.data,"creativeFormatPixel")&&(l=(c=(c=t).data.creativeFormatPixel).vendorId,d=void 0===(d=c.pixelData)?{}:d,l)&&("creativeFormatBidPixel"===c.type&&(u={_type:"creativeFormatBidPixel",cfbp:1,c:"dtb",vendorId:l},(s=void 0===(s=d.bi)?"":s)&&(u.bi=s),Object(a.b)(u)),"creativeFormatImpressionPixel"===c.type)&&(s=d.bi,c=void 0===(u=d.ii)?"":u,u={_type:"creativeFormatImpressionPixel",cfip:1,c:"dtb",vendorId:l,bp:void 0===(u=d.bp)?0:u,bpc:void 0===(l=d.bpc)?"USD":l},(d=void 0===s?"":s)&&(u.bi=d),c&&(u.ii=c),Object(a.b)(u))):t.data&&"adBlocked"===t.data&&(n={_type:"adBlockedPixel",c:"dtb",pid:i.b,abc:1,u:Object(o.g)(window)},Object(a.b)(n))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3),o=n(1);function i(e){try{!1!==window.apstag.isGDPRRegion||"function"!=typeof document.hasTrustToken?Object(r.c)("trustToken","notSupported"):(e.trustTokenParameter={type:"send-redemption-record",issuers:["https://www.amazon.com"],refreshPolicy:"none",includeTimestampHeader:!0,signRequestData:"headers-only",additionalSigningData:"additional_signing_data"},Object(r.c)("trustToken","supported"),document.hasTrustToken("https://www.amazon.com").then((function(e){e&&Object(r.c)("trustToken","present")})).catch((function(){Object(r.c)("trustToken","absent")})))}catch(e){Object(o.b)(e,"trustToken")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));t=n(17);var r=n(22),o=n(6),i=n(18);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);n=t?(n=p(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===a(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return b(r)}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var y=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e);var n=f(a);function a(e){if(this instanceof a)return g(b(e=n.call(this,e)),"_sizesDelegate",void 0),e._sizesDelegate=new r.a(e.rawSlot.sizes),e;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"mediaType",get:function(){return o.a.VIDEO}},{key:"aaxMediaType",get:function(){return i.a.VIDEO}},{key:"sizes",get:function(){return this._sizesDelegate.sizes}},{key:"aaxSizes",get:function(){return this._sizesDelegate.aaxSizes||[]}},{key:"aaxSlot",get:function(){var e=s(s({},l(p(a.prototype),"aaxSlot",this)),{},{id:this.slotID,mt:this.aaxMediaType});return 0<this.sizes.length&&(e.s=this.aaxSizes),e}}])&&u(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(t.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),(t=r=r||{}).LOCAL_STORAGE="LOCAL",t.CSS_SELECTOR="CSS",t.URL="URL",(o=o||{}).EMAIL="email";var r,o,i=n(1),a=n(15),c=n(5);function s(e,t){var n,r,o,i,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return r=!(n=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return n=e.done,e},e:function(e){r=!0,o=e},f:function(){try{n||null==a.return||a.return()}finally{if(r)throw o}}};if(Array.isArray(e)||(a=function(e,t){var n;if(e)return"string"==typeof e?u(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return e.then((function(e){return Array.from(new Uint8Array(e)).map((function(e){return e.toString(16).padStart(2,"0")})).join("")})).then((function(e){return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"!==e?e:""}))}function d(e,t){return e instanceof window.HTMLInputElement||e instanceof window.HTMLTextAreaElement?f(e.value,t)?l(window.crypto.subtle.digest("SHA-256",(new window.TextEncoder).encode(e.value||""))):Promise.resolve(""):f(e.innerText,t)?l(window.crypto.subtle.digest("SHA-256",(new window.TextEncoder).encode(e.innerText||""))):Promise.resolve("")}var f=function(e,t){return"string"==typeof e&&(t===o.EMAIL?/\S+@\S+\.\S+/.test(e)||Object(a.c)(e):0<e.trim().length)},b=function(e,t,n){if(0===(n=n||window.document.querySelectorAll(e)).length)return new Promise((function(e){return e("")}));if(1===n.length)return d(n[0],t);var r,o=[],i=s(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;o.push(d(a,t))}}catch(e){i.e(e)}finally{i.f()}return Promise.all(o).then((function(e){var t,n=null,r=s(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(""!==o){if(null!==n&&("string"!=typeof n||n!==o))return"";n=o}}}catch(e){r.e(e)}finally{r.f()}return n||""}))},p=n(21),g=n(2);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n,r,o,i,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return r=!(n=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return n=e.done,e},e:function(e){r=!0,o=e},f:function(){try{n||null==a.return||a.return()}finally{if(r)throw o}}};if(Array.isArray(e)||(a=function(e,t){var n;if(e)return"string"==typeof e?h(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var v={called:!1};function j(e){if(Promise&&TextEncoder&&window.crypto&&window.crypto.subtle)if(c.a.getDefault().allowedToStoreAndAccessInformationOnDevice())try{v.called&&!e.overrideLimit?Object(i.b)(new Error("rr should only be called once per page load"),"retrieveRecords-callLimit"):(v.called=!0,function(){var e,t,n,o,s,u,l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d=1<arguments.length?arguments[1]:void 0,p=(e=l.methods||[],O(t={},r.LOCAL_STORAGE,5),O(t,r.URL,4),O(t,r.CSS_SELECTOR,3),n=t,o={},e.forEach((function(e){o[e.method]=(o[e.method]||0)+1,e.priority=o[e.method]})),e.sort((function(e,t){return e.method===t.method?(e.priority||0)>(t.priority||0)?1:-1:n[e.method]>n[t.method]?-1:1})),[]),g=m(l.methods||[]);try{var h=function(){var e=u.value,t=e.method,n=e.target,o=e.type,l="";switch(t){case r.LOCAL_STORAGE:l=function(e,t){return(e=c.a.getDefault().localStorage.getItem(e,{ignoreFailure:!1}))&&f(e,t)?e:""}(n,o);break;case r.URL:p.push(function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window.location.href;try{e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&#]"+e+"(=([^&#?]*)|&|#|$)").exec(t);return Array.isArray(n)&&"string"==typeof n[2]&&0!==decodeURIComponent(n[2].replace(/\+/g," ")).trim().length&&Object(a.c)(decodeURIComponent(n[2].replace(/\+/g," ")))?Promise.resolve(decodeURIComponent(n[2].replace(/\+/g," "))):new Promise((function(e){return e("")}))}catch(e){return Object(i.b)(e,"retrieveUrl"),Promise.resolve("")}}(n).then((function(e){return{type:o,value:e}})));break;case r.CSS_SELECTOR:s=e}if(0<l.length)return d({value:l,type:o}),{v:void 0}};for(g.s();!(u=g.n()).done;){var v=h();if("object"===y(v))return v.v}}catch(e){g.e(e)}finally{g.f()}function j(){var e,t,n,r,o,i;s&&(!0===s.isGlobalSubmit||"string"==typeof s.eventTarget&&"string"==typeof s.event)&&(t=(e=s).eventTarget,n=e.target,r=e.type,o=e.isGlobalSubmit,"string"==typeof(i=o?"submit":s.event))&&0!==i.length?window.addEventListener(i,(function e(a){var c,s,u,l,f,p,g,y,m;s=(a={e:a,event:i,eventTarget:t,isGlobalSubmit:o,target:n,type:r,onDone:d,listener:e}).e,u=a.eventTarget,l=a.event,f=a.isGlobalSubmit,p=a.target,g=a.type,y=a.onDone,m=a.listener,f||"window"===u||s.target&&"function"==typeof s.target.matches&&"string"==typeof u&&s.target.matches(u)?(f&&s instanceof window.Event&&s.target&&(c=s.target.querySelectorAll('input[type="email"]')),b(p,g,c).then((function(e){"function"==typeof m&&window.removeEventListener(l,m),y(!(e.length<1)&&{value:e,type:g})}))):y(!1)})):d(!1)}0===p.length?j():Promise.all(p).then((function(e){var t,n=m(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(0<r.value.length)return void d(r)}}catch(e){n.e(e)}finally{n.f()}j()}))}(e,(function(e){var t,n;!1!==e&&(t=function(){return!(window.apstag.isGDPRRegion&&!new p.a({stateContainer:g.a,globalContext:window}).isListenerActive||(Object(a.e)({hashedRecords:[{type:e.type,record:e.value}]}),0))},n=0,function e(){t()||6400<n||(setTimeout(e,n),n=0===n?200:2*n)}())})))}catch(e){Object(i.b)(e,"retrieveRecords-retrieve")}else Object(i.b)(new Error("GDPR consent not present/valid"),"retrieveRecords")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));t=n(17);var r=n(6),o=n(18),i=n(0),a=n(1),c=n(22);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var l=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=this,r=e;if(!(n instanceof r))throw new TypeError("Cannot call a class as a function");u(this,"_propertyConfig",void 0),u(this,"_sizesDelegate",void 0),this._propertyConfig=t,this._sizesDelegate=new c.a(null==t?void 0:t.sizes,!1,!0)}var t,n;return t=e,(n=[{key:"sizes",get:function(){return this._sizesDelegate.sizes}},{key:"validSizes",get:function(){return this._sizesDelegate.isValid()}},{key:"propertyConfig",get:function(){return this._propertyConfig}},{key:"aaxPropertyConfig",get:function(){var e={};return this.aaxSizes&&(e.s=this.aaxSizes),e}},{key:"aaxSizes",get:function(){return this._sizesDelegate.aaxSizes}},{key:"isValid",value:function(){return!Object(i.j)(this.propertyConfig)||Array.isArray(this.propertyConfig)?(Object(a.b)({name:"MultiFormatSlot-InvalidMultiFormatSlotProperty",message:"multiFormatProperty must be an object"},"MultiFormatSlotProperty-isValid",{makeVisibleToAllUsers:!0}),!1):!!this.validSizes}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var b=function(){function e(t){var n=this;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");f(this,"_multiFormatProperties",void 0),t&&Object(i.j)(t)&&!Array.isArray(t)&&(this._multiFormatProperties={},this.toMultiFormatMediaTypes(t).forEach((function(e){n._multiFormatProperties&&(n._multiFormatProperties[e]=new l(t[e]))})))}var t,n;return t=e,(n=[{key:"convertMultiFormatMediaType",value:function(e){var t;return f(t={},r.a.VIDEO,o.a.VIDEO),f(t,r.a.DISPLAY,o.a.DISPLAY),t[e]}},{key:"isMultiFormatMediaType",value:function(e){return Boolean(this.convertMultiFormatMediaType(e))}},{key:"toMultiFormatMediaTypes",value:function(e){var t=this;return Object.keys(e).filter((function(e){return t.isMultiFormatMediaType(e)}))}},{key:"multiFormatMediaTypes",get:function(){return this._multiFormatProperties?this.toMultiFormatMediaTypes(this._multiFormatProperties):[]}},{key:"aaxMultiFormatProperties",get:function(){var e,t=this;return this._multiFormatProperties?(e={},this.multiFormatMediaTypes.forEach((function(n){var r=t.convertMultiFormatMediaType(n);r&&(e[r]=null==(r=t._multiFormatProperties[n])?void 0:r.aaxPropertyConfig)})),e):{}}},{key:"isValid",value:function(){var e=this,t=!0;return this._multiFormatProperties?(this.multiFormatMediaTypes.forEach((function(n){e._multiFormatProperties[n].isValid()||(t=!1)})),t):(Object(a.b)({name:"MultiFormatSlot-InvalidMultiFormatProperties",message:"multiFormatProperties must be an object"},"MultiFormatProperties-isValid",{makeVisibleToAllUsers:!0}),!1)}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function O(e,t){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var w=function(e){var t=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);n=t?(n=j(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===p(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return v(r)}}(i);function i(e){var t;if(this instanceof i)return S(v(t=n.call(this,e)),"_multiFormatPropertiesDelegate",void 0),t._multiFormatPropertiesDelegate=new b(e.multiFormatProperties),t;throw new TypeError("Cannot call a class as a function")}return t=i,(e=[{key:"mediaType",get:function(){return r.a.MULTI_FORMAT}},{key:"aaxMediaType",get:function(){return o.a.MULTI_FORMAT}},{key:"aaxMultiFormatProperties",get:function(){return this._multiFormatPropertiesDelegate.aaxMultiFormatProperties}},{key:"multiFormatPropertiesIsValid",get:function(){return this._multiFormatPropertiesDelegate.isValid()}},{key:"aaxSlot",get:function(){return y(y({},h(j(i.prototype),"aaxSlot",this)),{},{id:this.slotID,sd:this.slotID,sn:this.slotName||this.slotID,mt:this.aaxMediaType,mfp:this.aaxMultiFormatProperties})}},{key:"isValid",value:function(){return h(j(i.prototype),"isValid",this).call(this)&&this.multiFormatPropertiesIsValid}}])&&m(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),i}(t.a)},function(e,t,n){e.exports=n(37)},function(i,e,t){"use strict";t.r(e);var Ee=t(16),Ae=t(2),Pe=t(9),Re=t(0),Ce=t(13),ze=t(8),xe=t(4),Le=t(14),Ue=t(24),Be=t(20),Ve=t(3),Me=t(1),Ne=t(11),Fe=t(26),n=t(27),qe=t(7),He=t(10),Ge=t(6),Qe=t(12),Xe=t(25),Je=t(15),We=t(32),Ke=t(34),Ye=t(28),$e=t(33),Ze=t(23),at=t(35),ct=t(21),et=t(5),tt=t(29);function nt(e){return u(e)||s(e)||c(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){var n;if(e)return"string"==typeof e?r(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}function s(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e){if(Array.isArray(e))return r(e)}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ot(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}try{var l=Object(n.b)(window.apstag);l?Object(Me.b)(new Error("apstag has already loaded - preventing duplicate load"),"apstag-duplicateLoad",{makeVisibleToAllUsers:!0}):(Object(n.a)(window)&&Object(Me.b)(new Error("apstag was loaded and then destroyed"),"apstag-destroyReload",{makeVisibleToAllUsers:!0}),window.apstagLOADED=!0,function(){var b=Object(Le.e)(window,"navigationStart"),p=(Object(Re.l)(1)&&Object(Me.b)(new Error("apstag-".concat(xe.l," reference pixel - Used to compute ratios for other errors")),"REFERENCE"),new ct.a({stateContainer:Ae.a,globalContext:window})),e=(p.attemptConsentDataSync(),"ls"),n=Object(ze.d)("console")||function(){try{return-1!==window.location.href.indexOf("amzn_debug_console=1")&&(e="url",!0)}catch(e){return!1}}(),r=Object(ze.d)("console_v2")||function(){try{return-1!==window.location.href.indexOf("amzn_debug_console=2")&&(e="url",!0)}catch(e){return!1}}();function L(e){try{return!Ae.a.getState().experiments.chunkRequests||0===Ae.a.getState().bidReqs[e.split("-")[0]].networkReqs.filter((function(e){return e.inFlight})).length}catch(e){return Object(Me.b)(e,"_isRequestComplete"),1}}function i(e,t){try{!Ae.a.getState().bidReqs[e].hasCallbackExecuted&&L(e)&&(Ae.a.dispatch({type:"RECORD_CALLBACK",fid:e}),t())}catch(e){Object(Me.b)(e,"_checkAndCallCallback")}}function a(e){try{Ae.a.getState().experiments.chunkRequests&&Ae.a.dispatch({type:"RECORD_NETWORK_EXCHANGE",fid:e[0],timestamp:Date.now(),exchangeType:"response",networkID:parseInt(e[1],10)})}catch(e){Object(Me.b)(e,"_recordResponse")}}function g(e,r,t){var o=t.split("-"),n={url:e,withCredentials:!0,onload:function e(t){try{a(o);var n=t.responseText;eval(n),i(o[0],r)}catch(e){Object(Me.b)(e,"_xhrBid-onload",{makeVisibleToAllUsers:!0})}},onerror:function(){try{a(o),i(o[0],r)}catch(e){Object(Me.b)(e,"_xhrBid-onerror",{makeVisibleToAllUsers:!0})}}};Object(We.a)(n);try{Object(Ne.d)(n)}catch(e){Object(Me.b)(e,"_xhrBid",{makeVisibleToAllUsers:!0}),a(o),i(o[0],r)}}function U(e){try{var t=new Date;return t.setTime(t.getTime()+1e3*e),t.toUTCString()}catch(e){return Object(Me.b)(e,"_getCookieExpiry"),"Thu, 01 Jan 1970 00:00:00 GMT"}}function B(e){try{Object(Re.k)(e,"cr")&&e.cr.forEach((function(e){var t=-1!==e.exp?U(e.exp):Object(Re.f)(365);et.a.getDefault().cookie.setItem(e.k,e.v,t)}))}catch(e){Object(Me.b)(e,"_setFirstPartyCookies")}}function V(e){try{var t;Object(Re.k)(e,"cb")&&(Ae.a.dispatch({type:"RECORD_AAX_REQ_PROP",bidReqID:e.cb,key:"resTs",value:Date.now()}),t=new RegExp("e/dtb/bid.*cb=".concat(e.cb)),Ae.a.dispatch({type:"RECORD_AAX_REQ_PROP",bidReqID:e.cb,key:"perf",value:Object(Le.c)(window,t)})),Object(Re.k)(e,"cfg")&&Ae.a.dispatch({type:"SET_CFG",cfg:e.cfg}),ie(e)}catch(e){Object(Me.b)(e,"_doOnAaxResponse",{makeVisibleToAllUsers:!0})}}function M(e){try{Object(tt.b)(e),B(e),Object(Re.k)(e,"cfg")&&et.a.getDefault().localStorage.setItem(xe.d,JSON.stringify(e.cfg),{ignoreFailure:!0}),N(e),Object(Pe.j)(e)||Object(Ve.g)()}catch(e){Object(Me.b)(e,"_doAfterAaxResponse",{makeVisibleToAllUsers:!0})}}function N(e){try{var t;Object(Re.k)(e,"fp")&&(t=e.fp,Object(Re.k)(t,"length"))&&t.forEach((function(e){var t=e.d||0;setTimeout((function(){Object(Ve.f)(e.s)}),t)}))}catch(e){Object(Me.b)(e,"fireAAXPixels")}}function F(){try{Ae.a.getState().Q.forEach((function(e){var t="init";switch(e[0]){case"i":t="init";break;case"f":t="fetchBids";break;case"di":t="deleteId";break;case"ri":t="renewId";break;case"ui":t="updateId";break;default:return}window.apstag[t].apply(null,e[1])}))}catch(e){Object(Me.b)(e,"_QHandler",{makeVisibleToAllUsers:!0})}}function q(e){try{Object(Re.j)(e)||(Object(Me.c)("init.config",it(e),"object"),e={pubID:"err"}),Object(Qe.b)(e.pubID,["string","number"])?"number"==typeof e.pubID&&(e.pubID="".concat(e.pubID)):Object(Me.c)("init.config.pubID",it(e.pubID),"string"),Object(Qe.b)(e.adServer,["undefined","string"])||Object(Me.c)("init.config.adServer",it(e.adServer),"string"),Object(Qe.a)(e.bidTimeout)||("string"==typeof e.bidTimeout?Object(Me.b)({name:"string-".concat(e.bidTimeout),message:"init.config.bidTimeout was a non-numeric string '".concat(e.bidTimeout,"'")},"TypeError-init.config.bidTimeout",{makeVisibleToAllUsers:!0}):Object(Me.c)("init.config.bidTimeout",it(e.bidTimeout),"number")),Object(Qe.b)(e.gdpr,["undefined","object"])?"object"!==it(e.gdpr)||Object(Qe.a)(e.gdpr.cmpTimeout)||(Object(Qe.b)(e.gdpr.cmpTimeout,["string","undefined"])?Object(Me.b)({name:"string-".concat(e.bidTimeout),message:"init.config.gdpr.cmpTimeout was a non-numeric string '".concat(e.gdpr.cmpTimeout,"'")},"TypeError-init.config.gdpr.cmpTimeout",{makeVisibleToAllUsers:!0}):Object(Me.c)("init.config.gdpr.cmpTimeout",it(e.gdpr.cmpTimeout),"number")):Object(Me.c)("init.config.gdpr",it(e.gdpr),"object"),Object(Re.k)(e,"params")&&!Object(Re.j)(e.params)?Object(Me.c)("init.config.params",it(e.params),"object"):Object(Re.k)(e,"params")&&Object.keys(e.params).forEach((function(t){return!(!Object(Re.k)(e,"params")||"string"!=typeof e.params[t]&&"number"!=typeof e.params[t]&&(Object(Re.i)(e.params[t])?!e.params[t].reduce((function(e,t){return e&&("string"==typeof t||"number"==typeof t)}),!0)&&(Object(Me.b)({name:"non-string array item",message:"'init.config.params.".concat(t," contains a non-string item")},"TypeError-init.config.params.".concat(t),{makeVisibleToAllUsers:!0}),1):(Object(Me.c)("init.config.params.".concat(t),it(e.params[t]),"string' or 'array"),1)))})),Object(Re.k)(e,"params")&&Object(Re.k)(e.params,"us_privacy")&&"string"==typeof e.params.us_privacy&&xe.z.test(e.params.us_privacy)?Object(Ve.c)("ccpa","y"):Object(Re.k)(e,"params")&&Object(Re.k)(e.params,"us_privacy")?Object(Ve.c)("ccpa","i"):Object(Ve.c)("ccpa","n"),Object(Re.k)(e,"blockedBidders")&&!Object(Re.i)(e.blockedBidders)?Object(Me.c)("init.config.blockedBidders",it(e.blockedBidders),"array"):Object(Re.k)(e,"blockedBidders")&&Object(Re.i)(e.blockedBidders)&&(e.blockedBidders.reduce((function(e,t){return e&&("string"==typeof t||"number"==typeof t)}),!0)||Object(Me.b)({name:"non-string array item",message:"'init.config.blockedBidders contains a non-string item"},"TypeError-init.config.blockedBidders",{makeVisibleToAllUsers:!0})),Object(Re.k)(e,"blockedBidders")?Object(Ve.c)("blockedBidders-init","y"):Object(Ve.c)("blockedBidders-init","n"),Object(Qe.b)(e.simplerGPT,["undefined","boolean"])||Object(Me.c)("init.config.simplerGPT",it(e.simplerGPT),"boolean"),e.simplerGPT?Object(Ve.c)("simplerGpt","y"):Object(Ve.c)("simplerGpt","n"),Object(Qe.b)(e.deals,["undefined","boolean"])||Object(Me.c)("init.config.deals",it(e.deals),"boolean"),e.deals?Object(Ve.c)("deals","y"):Object(Ve.c)("deals","n"),Object(Qe.b)(e.schain,["undefined","object"])&&null!==e.schain?Object(Re.k)(e,"schain")&&!Object(He.h)(e.schain)&&delete e.schain:(Object(Me.c)("init.config.schain",it(e.schain),"object"),delete e.schain),Object(Re.k)(e,"schain")?Object(Ve.c)("schain","y"):Object(Ve.c)("schain","n"),Object(Qe.b)(e.useSafeFrames,["undefined","boolean"])||(Object(Me.c)("init.config.useSafeFrames",it(e.useSafeFrames),"boolean"),delete e.useSafeFrames),e.useSafeFrames?Object(Ve.c)("useSafeFrames","y"):Object(Ve.c)("useSafeFrames","n")}catch(t){Object(Me.b)(t,"_validateAndStoreConfig-validateConfig")}try{var t=Ae.a.getState().config;Object(Re.k)(t,"pubID")&&Object(Re.k)(e,"pubID")&&t.pubID!==e.pubID&&Object(Me.b)(new Error("`apstag.init` was called multiple times with different pubIDs (".concat(t.pubID," then ").concat(e.pubID,")")),"_validateAndStoreConfig-diffPubId",{makeVisibleToAllUsers:!0}),Ae.a.dispatch({type:"SET_CONFIG",config:e,defaultCmpTimeout:Ae.a.getState().cfg.GDPR_CMP_TIMEOUT})}catch(t){Object(Me.b)(t,"_validateAndStoreConfig",{makeVisibleToAllUsers:!0})}}function o(e){try{var t=e.slotID,n=!1;Object(Re.k)(e.bidConfig,"amznbid")&&"o_"===e.bidConfig.amznbid.slice(0,2)&&(n=!0),Object(Re.k)(e.bidConfig,"mediaType")&&"v"===e.bidConfig.mediaType&&!1===n||(!window.IntersectionObserver&&n?Object(Me.b)({name:"IntersectionObserver",message:"IntersectionObserver not supported "},"_safeApplySlotTargeting"):qe.a.hasAdServerObjectLoaded()?qe.a.isCommandQueueDefined()?qe.a.hasAdServerObjectLoaded()?null!==c(t)?d(e):Object(Me.a)("".concat(t," isn't defined when trying to set amazon bid!")):qe.a.cmdQueuePush((function(){o(e)})):Object(Me.a)("displayAdServer Object's cmd queue hasn't been defined",!0):Object(Me.a)("displayAdServer Object hasn't been defined",!0))}catch(e){Object(Me.b)(e,"_safeApplySlotTargeting",{makeVisibleToAllUsers:!0})}}function c(e){var t=null;try{t=Object(Ce.b)(qe.a).filter((function(t){return t.slotID===e}))[0]||null}catch(t){Object(Me.b)(t,"_getAdServerSlot")}return t}function s(e){try{var t=Ae.a.getState().targetingKeys[e.slotID];qe.a.hasAdServerObjectLoaded()&&Object(Re.i)(t)&&t.forEach((function(t){return 0<e.getTargeting(t).length&&e.clearTargeting(t)}))}catch(t){Object(Me.b)(t,"_clearTargetingFromSlot",{makeVisibleToAllUsers:!0})}}function u(e){try{var t;Object(Re.k)(Ae.a.getState().slotBids,e.slotID)&&(t=Ae.a.getState().slotBids[e.slotID].filter((function(e){return e.bidState===xe.c.set}))[0])&&t.bidState===xe.c.set&&Ae.a.dispatch({type:"BID_STATE_CHANGE",slotID:e.slotID,_targetingSetID:t._targetingSetID,bidState:xe.c.exposed})}catch(e){Object(Me.b)(e,"_clearBidSetOnSlot",{makeVisibleToAllUsers:!0})}}function H(e,t){try{return e.map((function(e){return Object(Re.h)(t,e)})).filter((function(e){return e})).length===e.length}catch(e){Object(Me.b)(e,"_hasAllItemsInArray")}}function l(){var e={};try{Object.keys(Ae.a.getState().slotBids).forEach((function(t){var n=Ae.a.getState().slotBids[t].filter(He.f);0<n.length&&(e[t]=n.map((function(e){var t=Ae.a.getState().AAXReqs.filter((function(t){return t.bidReqID===e.bidReqID})),n=0;return 0<t.length?n=t[0].rqTs:(t=Ae.a.getState().AAXReqs.map((function(e){return e.bidReqID})).join(", "),Object(Me.b)({name:"BidError",message:"Request not found: ".concat(e.bidReqID," not found in ").concat(t)},"_getCurrentSlotBids-noRequest")),{rqTs:n,bid:e}})).reduce((function(e,t){return e.rqTs>t.rqTs?e:t})).bid)}))}catch(e){Object(Me.b)(e,"_getCurrentSlotBids",{makeVisibleToAllUsers:!0})}return e}function G(e,t){try{return Object(Re.i)(Ae.a.getState().targetingKeys[e])?t?["amzniid_sp"]:Ae.a.getState().targetingKeys[e].filter((function(e){return-1<e.indexOf("amzniid")&&e.indexOf("amzniid_sp")<0})):["amzniid"]}catch(e){return Object(Me.b)(e,"_getAllBidIdKeys"),[]}}function Q(e,t){var n,r;try{var o=Ae.a.getState().slotBids;Object.keys(o).forEach((function(i){o[i].forEach((function(o){G(i,t).forEach((function(t){o.bidConfig[t]===e&&(n=o,"amzniid_sp"===t?r="sp":"amzniid"!==t&&(r=t.substr(0,t.indexOf("amzniid"))))}))}))}))}catch(e){Object(Me.b)(e,"_findSlotBidByBidID",{makeVisibleToAllUsers:!0})}return{slotBid:n,dealId:r}}function X(e,t,n){var r="";try{t.bidConfig[n+"amzniid"]===e&&(r=n.split("_").pop().trim())}catch(e){Object(Me.b)(e,"_getPMPBidSize")}return r}function J(e){try{var t;return void 0===e.slots?[]:(t={},e.slots.forEach((function(e){e.mediaType!==Ge.a.VIDEO&&"v"!==e.mediaType&&"v"!==e.mediaType_sp||(0<=e.slotID.indexOf("rsv-")&&(e={slotID:e.slotID.substring(4),r_amznbid:e.amznbid,r_amzniid:e.amzniid,r_amznp:e.amznp,mediaType:Ge.a.VIDEO,targeting:["r_amznbid","r_amzniid","r_amznp"],amznsz:e.amznsz,size:e.size,crid:e.crid,meta:e.meta}),!Object(Re.k)(t,e.slotID))?t[e.slotID]=new He.a(e):e.targeting.forEach((function(n){t[e.slotID].bidConfig[n]=e[n],-1===t[e.slotID].bidConfig.targeting.indexOf(n)&&t[e.slotID].bidConfig.targeting.push(n)}))})),Object.keys(t).map((function(e){return t[e]})))}catch(e){return Object(Me.b)(e,"_mergeVideoBids"),[]}}function W(e){var t=J(e),n=[];try{n=t.map((function(t){return t.bidReqID=e.cb,t.host=e.host,t.ev=e.ev,t.cfe=e.cfe,t}))}catch(t){Object(Me.b)(t,"_convertAaxResponse")}return n}function d(e){try{var t,n,r=e.slotID,o=e._targetingSetID;e.bidState!==xe.c.set&&null!==(t=c(r))&&(u(t),n=e.newBidObject,Object(Xe.a)(t),Object.keys(n.targeting).forEach((function(e){return t.setTargeting(e,n.targeting[e])})),Ae.a.dispatch({type:"BID_STATE_CHANGE",slotID:r,_targetingSetID:o,bidState:xe.c.set,ts:Date.now()}))}catch(e){Object(Me.b)(e,"_applyTargetingToAdServerSlot",{makeVisibleToAllUsers:!0})}}function K(e){try{var t=l();e.forEach((function(e){t[e]&&o(t[e])}))}catch(e){Object(Me.b)(e,"_applySuppliedSlotBidsToAdServerObject",{makeVisibleToAllUsers:!0})}}function Y(){try{var e=l();Object.keys(e).forEach((function(t){return o(e[t])}))}catch(e){Object(Me.b)(e,"_applyAllCurrentSlotBidsTargetingToAdServerObject",{makeVisibleToAllUsers:!0})}}function $(e){try{e?(Object(Ve.c)("targeting","setDisplayBids-list"),K(e)):(Object(Ve.c)("targeting","setDisplayBids-all"),Y()),Ae.a.getState().displayAdServer.slotRenderEndedSet||(qe.a.cmdQueuePush((function(){try{qe.a.slotRenderEndedEvent((function(e){try{s(e),u(e)}catch(e){Object(Me.b)(e,"_applySlotTargeting-cmdQueue-slotCb",{makeVisibleToAllUsers:!0})}}))}catch(e){Object(Me.b)(e,"_applySlotTargeting-cmdQueue",{makeVisibleToAllUsers:!0})}})),Ae.a.dispatch({type:"SLOT_RENDER_ENDED_SET"}))}catch(e){Object(Me.b)(e,"_applySlotTargeting",{makeVisibleToAllUsers:!0})}}function f(e,t){function n(){if(!o)if(20<=i++)Object(Me.b)({name:"LoopError",message:"Too many attempts to append to document.body"},"_safeDocumentBodyAppendChild-callback-loops",{makeVisibleToAllUsers:!0});else{try{if(e&&e.body&&null!==e.body&&"function"==typeof e.body.appendChild)return e.body.appendChild(t),r(),void(o=!0)}catch(e){Object(Me.b)(e,"_safeDocumentBodyAppendChild-callback")}setTimeout(n,100)}}var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){},o=!1,i=0;try{"complete"===e.readyState||"interactive"===e.readyState?(Object(Ve.c)("appended","sync"),n()):(Object(Ve.c)("appended","async"),e.addEventListener("DOMContentLoaded",n))}catch(e){Object(Me.b)(e,"_safeDocumentBodyAppendChild")}}function Z(e){try{var t="".concat(e.host).concat(Ae.a.getState().cfg.DTB_PATH,"/imp"),n="".concat(e.host).concat(Ae.a.getState().cfg.DTB_PATH,"/adm");return e.cfe||e.isAmp||e.isSf?n:t}catch(e){return Object(Me.b)(e,"determineCreativeFetchEndpoint"),""}}function h(e){try{var t="?b=".concat(e.bidID,"&rnd=").concat(Object(Re.d)()),n=(Object(Re.k)(e,"pp")&&(t+="&pp=".concat(e.pp)),Object(Re.k)(e,"amznp")&&(t+="&p=".concat(e.amznp)),Object(Re.k)(e,"crID")&&(t+="&crid=".concat(e.crID)),Object(Re.k)(e,"isSharedPMP")&&!0===e.isSharedPMP&&(t+="&sp=true"),Object(Xe.e)()&&(t+="&ep=%7B%22ce%22%3A%221%22%7D"),Z(e));return(e.fif?"".concat(n,"j"):"".concat(n,"i")).concat(t)}catch(e){return Object(Me.b)(e,"_creativeURL"),""}}function y(e){try{var t=e.doc.createElement("iframe");return t.frameBorder="0",t.marginHeight="0",t.marginWidth="0",t.style.marginTop="0",t.style.marginLeft="0",t.scrolling="no",e.inheritSize?(t.style.width="100%",t.style.height="100%"):(t.style.width="".concat(e.sizes[0],"px"),t.style.height="".concat(e.sizes[1],"px")),t}catch(e){return Object(Me.b)(e,"_baseIframe"),window.document.createElement("iframe")}}function ee(e){try{if(Object(Re.k)(e,"bidType")){var t,n=e.kvMap;switch(e.bidType){case"sharedPMP":return{bidID:n.amzniid_sp[0],pp:n.amznbid_sp[0],sizes:n.amznsz_sp[0].split("x"),amznp:n.amznp_sp[0],inheritSize:e.inheritSize,isSharedPMP:e.isSharedPMP};case"preferredPMP":if(Object(Ge.c)(e)&&Object(Re.k)(e,"amzndeal"))return t=e.amzndeal.split("_").pop().trim(),{bidID:n["".concat(e.amzndeal,"amzniid")][0],sizes:R(t)};break;case"openAuction":if(Object(Ge.c)(e))return{bidID:n.amzniid[0],pp:Object(Pe.c)(n.amznbid[0]),amznp:n.amznp[0],inheritSize:e.inheritSize,sizes:n.amznsz[0].split("x")};if(Object(Ge.d)(e))return{bidID:e.amzniid,pp:Object(Pe.c)(e.amznbid),amznp:e.amznp,sizes:e.amznsz.split("x")};break;default:Object(Me.b)({name:"Invalid AMP Bid Type: ".concat(e.bidType),message:"No valid AMP bid type"},"getAmpAdData-invalidBidType")}}}catch(e){Object(Me.b)(e,"getAmpAdData")}return{bidID:"ERROR",sizes:[]}}function O(e,t){try{var n,r=null;void 0!==t&&(Object(Re.k)(t,"ampEnv")&&t.ampEnv||Object(Re.k)(t,"sfEnv")&&t.sfEnv)&&(r=t,Object(Re.k)(t,"bidType")&&"sharedPMP"===t.bidType?r.isSharedPMP=!0:r.isSharedPMP=!1,r.document=e,r.amznhost=r.kvMap.amznhost[0]),P(e)&&((r=e).bidType="openAuction",r.ampEnv=!0),null===r?Object(Me.b)(new Error("Invalid AMP parameters"),"_renderAmpImpression-invalidParams",{makeVisibleToAllUsers:!0}):"ERROR"!==(n=ee(r)).bidID&&(n.doc=r.document,n.host=r.amznhost.replace("http://","https://"),n.adID="amznad".concat(Object(Re.d)()),n.isAmp=r.ampEnv,n.isSf=Object(Ue.c)(window),Ae.a.getState().aaxViewabilityEnabled?z(n,n.doc):j(n))}catch(e){Object(Me.b)(e,"_renderAmpImpression")}}function v(e){var t,n="unknown";function r(r){try{r&&(e.hasTimedOut=!0),r&&!e.hasRendered&&Object(Me.b)({name:"RenderTimeout",message:"renderAd was called from timeout. fifFlowMethod: ".concat(n)},"__loadAdIntoFriendlyIframe-renderAd-timeout-isOutstream:".concat(e.isOutstream)),null===t.contentDocument?Object(Me.b)({name:"NoDocument",message:"iframe.contentDocument was null inside renderAd. isFromTimeout: ".concat(r,". fifFlowMethod: ").concat(n)},"__loadAdIntoFriendlyIframe-renderAd-noDocument-isOutstream:".concat(e.isOutstream),{makeVisibleToAllUsers:!0}):e.hasRendered&&!e.hasTimedOut?Object(Me.b)({name:"DupeRender",message:"Render was called twice"},"__loadAdIntoFriendlyIframe-renderAd-rerender-isOutstream:".concat(e.isOutstream),{makeVisibleToAllUsers:!0}):e.hasRendered||(e.hasRendered=!0,t.contentDocument.open(),t.contentDocument.write(e.html),t.contentDocument.close())}catch(r){Object(Me.b)(r,"__loadAdIntoFriendlyIframe-renderAd-isOutstream:".concat(e.isOutstream))}}function o(){var o=r.bind(null,!1);try{n=null!==t.contentDocument&&Object(Re.h)(["complete","interactive"],t.contentDocument.readyState)?(o(),"doc-ready"):null!==t.contentDocument&&"uninitialized"!==t.contentDocument.readyState?(t.contentDocument.addEventListener("DOMContentLoaded",o),"dom-listener"):(t.addEventListener("load",o),"iframe-listener"),Object(Ve.c)("fifFlow",n),setTimeout(r,1e3,!0)}catch(o){Object(Me.b)(o,"_loadAdIntoFriendlyIframe-setAttributes-isOutstream:".concat(e.isOutstream))}}try{if(Object(Ve.c)("iframe","friendly"),void 0===e.html)throw new Error("No HTML available for ad, most likely the creative has expired");if(e=rt({hasRendered:!1,hasTimedOut:!1},e),(t=y(e)).id="apstag-f-iframe-".concat(Object(Re.d)()),e.isOutstream)try{var i=Object(Be.d)(document,e);if(void 0===i)throw new Error("gpt video div element is undefined");i&&i.firstElementChild&&i.firstElementChild.style.setProperty("display","none","important");var a=Object(Be.f)(e.sizes);Object(Be.a)(a,i),Object(Be.e)(a,t),o(),Object(Be.g)(a,t,e.bidID)}catch(o){Object(Me.b)(o,"_loadAdIntoFriendlyIframe-outstream",{makeVisibleToAllUsers:!0})}else f(e.doc,t,o)}catch(o){Object(Me.b)(o,"_loadAdIntoFriendlyIframe",{makeVisibleToAllUsers:!0})}}function j(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{states:{csmLoaded:!1,iframeLoaded:!1,shouldRunViewability:!1}},n=2<arguments.length?arguments[2]:void 0;try{Object(Ve.c)("iframe","unfriendly");var r,o=y(e);o.id=e.adID,o.setAttribute("sandbox","allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"),Object(ze.d)("fake_bids")?(r='<body style="background-color: #FF9900;">'.concat(50<parseInt(e.sizes[1],10)?"<h3>apstag Test Creative</h3>":"","<h4>amzniid - ").concat(e.bidID," | amznbid: ").concat(e.pp," | size: ").concat(e.sizes.join("x"),"</h4></body>"),o.src="javascript:'".concat(r,"'")):o.src=h(e),!(e.isAmp&&e.isSf&&Object(Ue.b)(window))&&(!e.isSf||e.isAmp||e.inheritSize)||Object(Ue.a)(e.sizes,window),f(e.doc,o),(t.iframe=o).onload=function(){t.states.iframeLoaded=!0,n&&n()}}catch(e){Object(Me.b)(e,"_loadAdIntoUnfriendlyIframe",{makeVisibleToAllUsers:!0})}}function te(e){var t,n=e.states,r=e.doc,o=e.bidID;e=e.iframe;try{Object(Re.a)(n)||(n.shouldRunViewability=!1,Object(Re.k)(window,"amzncsm")?t=window.amzncsm:void 0!==r&&null!==r.defaultView&&Object(Re.k)(r.defaultView,"amzncsm")&&(t=r.defaultView.amzncsm),void 0!==r&&void 0!==t&&Object(Re.k)(t,"rmD")&&(t.host=Object(ze.c)("host",Ae.a.getState().hosts.DEFAULT_AAX_PIXEL_HOST),t.rmD(e,o,r.defaultView,r,Ae.a.getState().config.pubID)))}catch(e){Object(Me.b)(e,"_triggerViewability")}}function ne(e,t){return function(n){try{var r=Object(He.e)(t.slots),o=Object.keys(r),i=[],a=(n&&(Ae.a.dispatch({type:"RECORD_AAX_REQ_PROP",bidReqID:t.bidReqID,key:"timedOutAt",value:Date.now()}),Ae.a.getState().experiments.chunkRequests)&&Ae.a.dispatch({type:"RECORD_TIMEOUT",fid:t.bidReqID,timeOut:Date.now()}),o.forEach((function(e){Object(Re.k)(r,e)&&(e=r[e],Object(He.g)(Ae.a.getState(),qe.a)||Object(Re.k)(e.bidConfig,"amznbid")?Object(Re.k)(e.bidConfig,"amznp")||(e.bidConfig.amznp=""):(Object(Ve.c)("unusedDeal",e.mediaType),e.mediaType!==Ge.a.VIDEO&&(e.bidConfig.targeting.unshift("amznsz"),e.bidConfig.amznsz="0x0"),e.bidConfig.targeting.unshift("amzniid","amznbid","amznp"),e.bidConfig.amzniid="",e.bidConfig.amznbid=xe.u.noBid,e.bidConfig.amznp=xe.u.noBid),i.push(e))})),qe.a.isSupported&&(i=Object(He.c)(i,t,n)),{fromTimeout:n}),c=Object(He.g)(Ae.a.getState(),qe.a);try{e(i.map((function(e){return c?e.newBidObject:e.bidObject})),a)}catch(o){console.error(o)}}catch(o){Object(Me.b)(o,"_bidCallbackHandler",{makeVisibleToAllUsers:!0});try{e([],{fromTimeout:n,fromError:!0})}catch(o){console.error(o)}}}}function re(e,t){try{var n,r;t.inheritSize?Object(Ve.c)("creativeSize","inherited"):(r=e.defaultView&&e.defaultView.frameElement?(n=e.defaultView.frameElement,"defaultView"):(n=window.frameElement,"frameElement"),Object(Ve.c)("resizeIframe",r),Object(Ve.c)("creativeSize","resized"),null!==n?(n.style.width="".concat(t.sizes[0],"px"),n.style.height="".concat(t.sizes[1],"px")):Object(Me.b)({name:"FrameNotFound",message:"'win' is 'null'. Method used: ".concat(r)},"_resizeIframe-win"))}catch(e){Object(Me.b)(e,"_resizeIframe")}}function t(e){try{return"".concat(e[0],"x").concat(e[1])}catch(e){return Object(Me.b)(e,"_sizeArrayToSring"),"x"}}function m(e){try{return 1===e.length?t(e[0]):t(e[Math.floor(e.length*Math.random())])}catch(e){return Object(Me.b)(e,"_pickRandomSizeForMockBid",{makeVisibleToAllUsers:!0}),""}}function oe(e){try{var t,n=Object(ze.c)("host",Ae.a.getState().hosts.DEFAULT_AAX_BID_HOST),r=Object(Pe.g)(window),o=e.bidReqID,i=Object(Re.g)(window),a=Object(ze.c)("testBidTimeout",200);Ae.a.dispatch({type:"RECORD_AAX_REQUEST",data:{bidConfig:e,timeout:a,bidReqID:o,ws:i,url:r,rqTs:Date.now()}}),t=e.slots.map((function(e){var t=m(e.sizes),n=(t="testDeal".concat(Object(Re.d)(),"_").concat(t),"testDealIi-".concat(Object(Re.d)())),r=m(e.sizes);ot(r={slotID:e.slotID,crid:"".concat(xe.o.crid,"-").concat(Object(Re.d)()),size:r,amzniid:"".concat(xe.o.amzniid,"-").concat(Object(Re.d)()),amznbid:xe.o.amznbid,amznp:xe.o.amznp,amznsz:r,amzniid_sp:"".concat(xe.o.amzniid,"-").concat(Object(Re.d)()),amznbid_sp:"".concat(xe.o.amznbid,"SP"),amznp_sp:"".concat(xe.o.amznp,"SP"),amznsz_sp:m(e.sizes),amzndeals:[t]},"".concat(t,"amzniid"),n),ot(r,"mediaType","d"),ot(r,"meta",["slotID","mediaType","size"]),ot(r,"targeting",["amzniid","amznbid","amznp","amznsz","amzniid_sp","amznbid_sp","amznp_sp","amznsz_sp","amzndeal_sp","amzndeals","".concat(t,"amzniid")]),n=r;return e.mediaType===Ge.a.VIDEO&&(n.mediaType=Ge.a.VIDEO,n.amznbid="v_".concat(n.amznbid)),n})),setTimeout((function(){window.apstag.bids({slots:t,host:n,status:"ok",cb:o})}),a)}catch(e){Object(Me.b)(e,"_doMockBid",{makeVisibleToAllUsers:!0})}}function ie(e){try{var t,n,r,o=Ae.a.getState().AAXReqs.filter((function(t){return t.bidReqID===e.cb}))[0];o&&o.bidConfig&&o.bidConfig.slots&&(t=o.bidConfig.slots.filter(Object(Ce.d)(Ge.a.DISPLAY,Ge.a.MULTI_FORMAT)).map((function(e){return e.slotID})),n=Object(Re.k)(e,"slots")?e.slots.map((function(e){return e.slotID})):[],r=t.filter((function(e){return!Object(Re.h)(n,e)})),Ae.a.dispatch({type:"NO_BID_ON_ADSERVER_SLOTS",slotIDs:r}),qe.a.hasAdServerObjectLoaded()?w():qe.a.isCommandQueueDefined()&&qe.a.cmdQueuePush((function(){w()})))}catch(t){Object(Me.b)(t,"_determineNoBidStateForAdServerObject")}}function ae(e){return Object(Re.h)(Ae.a.getState().AAXReqs.filter((function(e){return!e.resTs})).map((function(e){return e.bidConfig.slots})).reduce((function(e,t){return e.concat(t)}),[]).map(Ce.c),e)}function S(e){try{var t=e.getTargeting("amznbid");return 0<t.length&&2<t[0].length}catch(e){return Object(Me.b)(e,"_isRealAmznbidTargetingSetOnSlot"),1}}function w(){try{qe.a.hasAdServerObjectLoaded()&&"1"===qe.a.getTargeting("amznbid")[0]&&_(),Object(Ce.b)(qe.a).forEach((function(e){!Object(Re.h)(Ae.a.getState().displayAdServer.noBidSlotIDs,e.slotID)||ae(e.slotID)||S(e)||"2"===e.getTargeting("amznbid")[0]||T("noBid",e)}))}catch(e){Object(Me.b)(e,"_applyNoBidFromAAXState")}}function T(e,t){xe.v.forEach((function(n){return t.setTargeting(n,xe.u[e])}))}function _(){xe.v.forEach((function(e){return qe.a.clearTargeting(e)}))}function ce(e){try{var t={_type:"dupePixel",dd:Date.now()-e.timing.renderTime};Object(Ve.a)(e.bidConfig.amzniid,t)}catch(e){Object(Me.b)(e,"_sendDupeBidPixel")}}!function(){var e;Object(et.b)()&&(e=et.a.getDefault().localStorage.getItem(xe.d,{ignoreFailure:!0}))&&null!==(e=JSON.parse(e))&&Ae.a.dispatch({type:"SET_CFG",cfg:e})}(),Object(Xe.d)();var se=0;function D(){try{Object(Re.k)(window,"googletag")&&Object(Re.k)(window.googletag,"cmd")?(new Fe.a).cmdQueuePush((function(){try{window.googletag.pubads().addEventListener("slotRequested",(function(e){try{var t=e.slot;Ae.a.dispatch({type:"LOG_GAM_EVENT",event:rt(rt({},new Ze.a(t).slotConfig),{},{ts:Date.now(),targeting:t.getTargetingMap()})})}catch(e){Object(Me.b)(e,"_initializeSlotRequestedEventListener-cmdQueue-listener")}}))}catch(e){Object(Me.b)(e,"_initializeSlotRequestedEventListener-cmdQueue")}})):++se<5&&setTimeout(D,100)}catch(e){Object(Me.b)(e,"_initializeSlotRequestedEventListener")}}function I(e){try{var t=e.AAXReqs.slice(e.gamSlotRenderPixel.aaxReqOffset).reduce((function(e,t){return e.concat(t.bidConfig.slots)}),[]).map((function(e){return rt(rt({},e),{},{type:"a"})})).filter((function(e){return e.mediaType!==Ge.a.VIDEO})),n=e.gamSlotFetchLog.slice(e.gamSlotRenderPixel.gamSlotFetchLogOffset).map((function(e){return rt(rt({},e),{},{type:"g"})})),r=[].concat(nt(t),nt(n)).reduce((function(e,t){return void 0===e[t.slotID]&&(e[t.slotID]={sd:t.slotID,a:{c:0},g:{c:0}}),e[t.slotID][t.type].c++,e[t.slotID][t.type].s=t.sizes,e[t.slotID][t.type].sn=t.slotName||"",e}),{});return Object.keys(r).map((function(e){return r[e]})).filter((function(e){return 0!==e.a.c||0!==e.g.c}))}catch(e){return Object(Me.b)(e,"getSlotFetchCounts"),[]}}function ue(){try{var e=Ae.a.getState(),t=I(e);0<Object.keys(t).length&&(Object(Re.c)(t,5).forEach((function(t){t={slots:t,pid:He.b,url:Object(Pe.g)(window).split("?")[0],ws:Object(Re.g)(window),pubid:e.config.pubID,_type:"slotRenders"},Object(Ve.b)(t)})),Ae.a.dispatch({type:"UPDATE_RENDER_OFFSETS",offsets:{aaxReqOffset:e.AAXReqs.length,gamSlotFetchLogOffset:e.gamSlotFetchLog.length}}))}catch(t){Object(Me.b)(t,"sendDisplayAdServerRenderPixel")}}function le(){setInterval((function(){ue()}),5e3)}function k(){try{setTimeout((function(){try{var e=E().filter((function(e){return!Object(Re.k)(Ae.a.getState().bsPixels,e.iid)||e.state!==Ae.a.getState().bsPixels[e.iid]})),t=(e&&e.length&&0<e.length&&(e.forEach((function(e){return Object(Ve.a)(e.iid,fe(e))})),de(e)),{fetchStart:"a",domainLookupStart:"b",domainLookupEnd:"c",connectStart:"d",secureConnectionStart:"e",connectEnd:"f",requestStart:"g",responseStart:"h",responseEnd:"i"});Object.keys(Ae.a.getState().slotBids).forEach((function(e){Ae.a.getState().slotBids[e].forEach((function(n){var r,o,i;Object(Re.k)(n.bidConfig,"amzniid")&&!n.pixelSent&&"object"===it(r=Ae.a.getState().AAXReqs.filter((function(e){return e.bidReqID===n.bidReqID}))[0])&&null!==r&&(o=r.rqTs-Object(Le.d)(),i={pid:He.b,ns:r.bidConfig.validSlots.length,fid:n.bidReqID,fbrq:r.rqTs,_type:"latencyBd"},"object"===it(r.perf)&&null!==r.perf&&Object.keys(t).forEach((function(e){Object(Re.k)(r,"perf")&&0!==Object(Le.a)(r.perf,e)&&(i[t[e]]=Object(Le.a)(r.perf,e)-o)})),i.j=r.resTs-r.rqTs,Object(Ve.a)(n.bidConfig.amzniid,i),Ae.a.dispatch({type:"UPDATE_BID_INFO_PROP",slotID:e,iid:n.bidConfig.amzniid,key:"pixelSent",value:!0}))}))})),k()}catch(e){Object(Me.b)(e,"_sendBidsSetOnDFPPixel-timeout")}}),5e3)}catch(e){Object(Me.b)(e,"_sendBidsSetOnDFPPixel")}}function de(e){e.forEach((function(e){return Ae.a.dispatch({type:"RECORD_BID_INFO_SENT",bidInfo:e})}))}function fe(e){try{var t=be(e.fid),n={status:e.state,pubid:Ae.a.getState().config.pubID,_type:"bidSetPixel",toa:Object(Re.k)(t.req,"timedOutAt")?t.req.timedOutAt:0,fbrq:t.req.rqTs,pto:t.req.timeout,ns:t.req.bidConfig.validSlots.length,bla:t.req.resTs-t.req.rqTs,reqindex:t.index,fid:e.fid,tbs:0,c:"dtb"},r=(Ae.a.getState().cfg.CHUNK_BID_REQUESTS_PROPORTION&&(n.eid=Ae.a.getState().experiments.chunkRequests?2:1,n.fbindex=t.fbIndex,n.fbns=Ae.a.getState().bidConfigs[parseInt(e.fid.split("-")[0],10)].slots.length),Ae.a.getState().experiments),o=(Object(Re.k)(r,"shouldUseTestBidEndpoint")&&(n.tbs=r.shouldUseTestBidEndpoint?2:1),e.delta&&(n.delay=e.delta),t.req.perf);return void 0!==o&&(n.ul=t.req.urlLength,n.es=Object(Le.a)(o,"encodedBodySize")),0<Object.keys(Ae.a.getState().identityState).length&&(n.ids=JSON.stringify(Ae.a.getState().identityState)),0<Ae.a.getState().tcfParseTime&&(n.tpt=Ae.a.getState().tcfParseTime),n}catch(e){return Object(Me.b)(e,"_mapBidInfoToPixel"),{_type:"bidSetPixel",status:-1,pubid:"",toa:0,fbrq:0,pto:0,ns:0,bla:0,reqindex:0,fid:"",tbs:0,c:"dtb"}}}function be(e){var t=Ae.a.getState().AAXReqs.filter((function(t){return t.bidReqID===e}))[0],n=Ae.a.getState().AAXReqs.indexOf(t)+1;return(t={req:t,index:n,fbIndex:n}).index=Ae.a.getState().AAXReqs.indexOf(t.req)+1,Ae.a.getState().experiments.chunkRequests&&(t.fbIndex=Ae.a.getState().AAXReqs.filter((function(e){return-1===e.bidReqID.indexOf("-")||"0"===e.bidReqID.split("-")[1]})).map((function(e){return e.bidReqID.split("-")[0]})).indexOf(e.split("-")[0])+1),t}function E(){try{var e=ye(),t=[];return null!==e&&Object.keys(Ae.a.getState().slotBids).forEach((function(n){Ae.a.getState().slotBids[n][0].bidConfig.mediaType!==Ge.a.VIDEO&&Ae.a.getState().slotBids[n].filter((function(e){return Object(Re.k)(e.bidConfig,"amzniid")})).forEach((function(r){var o,i,a;null!==e&&(o={state:-1,slotID:n,iid:r.bidConfig.amzniid,fid:r.bidReqID},a=[],i=[],n in e&&(a=e[n].fetchedAt.filter((function(e){return e.AAXReqInfo&&e.AAXReqInfo.bidReqID===r.bidReqID})),i=e[n].targetedAt.filter((function(e){return e.targeting===r.bidConfig.amzniid}))),0<a.length?0<a.length&&i.length>=a.length&&a.slice(a.length-1)[0].ts>i.slice(a.length-1)[0].ts?1===e[n].fetchWithIID.filter((function(e){return e===r.bidConfig.amzniid})).length?o.state=1:o.state=4:Object(Re.h)(e[n].fetchWithIID,r.bidConfig.amzniid)?o.state=3:o.state=2:o.state=0,1!==o.state&&2!==o.state||(a=A(i=Ae.a.getState().AAXReqs.filter((function(e){return e.bidReqID===r.bidReqID}))[0].resTs,e[n].fetchedAt,2===o.state))&&Object(Re.k)(a,"ts")&&(o.delta=i-a.ts),t.push(o))}))})),t}catch(e){return Object(Me.b)(e,"_getBidSetInfo"),[]}}function A(e,t,n){var r=t.map((function(t){return t=e-t.ts,!n&&t<=0?-t:n&&0<=t?t:null}));return t[pe(r)]}function pe(e){for(var t=-1,n=-1,r=0;r<e.length;r++)null!==e[r]&&(-1===n||e[r]<t)&&(t=e[n=r]);return n}function ge(e,t){return Ae.a.getState().AAXReqs.filter((function(e){return Object(Re.h)(e.bidConfig.slots.map((function(e){return e.slotID})),t)}))[e]}function ye(){try{var e;return qe.a.hasAdServerObjectLoaded()?(e=Ae.a.getState().gamSlotFetchLog.reduce((function(e,t){Object(Re.k)(e,t.slotID)||(e[t.slotID]={fetchedAt:[],targetedAt:[]});var n=e[t.slotID];return n.fetchedAt.push({ts:t.ts,AAXReqInfo:ge(n.fetchedAt.length,t.slotID)}),Object(Re.k)(t.targeting,"amzniid")&&0<t.targeting.amzniid.length?n.targetedAt.push({ts:t.ts-1,targeting:t.targeting.amzniid[0]}):n.targetedAt.push({ts:t.ts-1,targeting:""}),e}),{}),Object.keys(e).forEach((function(t){var n;Object(Re.k)(e,t)&&((n=e[t]).fetchWithIID=n.fetchedAt.map((function(e){return(e=A(e.ts,n.targetedAt,!0))?e.targeting:0})),e[t]=n)})),e):null}catch(e){return Object(Me.b)(e,"_getDFPSlotFetches"),null}}function me(){try{qe.a.hasAdServerObjectLoaded()?T("noRequest",qe.a):qe.a.isCommandQueueDefined()&&qe.a.cmdQueuePush((function(){T("noRequest",qe.a)}))}catch(e){Object(Me.b)(e,"_applyNoRequestToAAXState")}}function he(e){try{Ae.a.dispatch({type:"REQUESTED_BID_FOR_ADSERVER_SLOTS",slotIDs:e}),qe.a.isCommandQueueDefined()&&qe.a.cmdQueuePush((function(){try{var t=Object(Ce.b)(qe.a);"0"===qe.a.getTargeting("amznbid")[0]&&_(),H(e.filter((function(e){return void 0!==e})),t.map((function(e){return e.slotID})))?t.forEach((function(t){Object(Re.h)(e,t.slotID)&&!S(t)&&T("bidInFlight",t)})):qe.a.cmdQueuePush((function(){try{T("bidInFlight",qe.a)}catch(e){Object(Me.b)(e,"_setRequestToAAXInFlightState-cmdQueue-cmdQueue")}}))}catch(t){Object(Me.b)(t,"_setRequestToAAXInFlightState-cmdQueue")}}))}catch(e){Object(Me.b)(e,"_setRequestToAAXInFlightState")}}function P(e){try{return Object(Re.k)(e,"type")&&!(e instanceof Document)&&"amp"===e.type}catch(e){return Object(Me.b)(e,"_isLegacyAmpCreative"),!1}}function Oe(e,t){try{return void 0!==t&&Object(Re.k)(t,"ampEnv")&&t.ampEnv||P(e)}catch(e){Object(Me.b)(e,"_isAmpImpression")}}function R(e){return e.split("x")}function ve(e,t,n){try{Object(Ve.g)()}catch(e){Object(Me.b)(e,"_renderImp-pixels")}try{var r=void 0===n?"0.0.0":n.cv;if(Oe(e,n)&&Object(Pe.k)(window,!0))P(e)?Object(Ve.c)("renderFootprint","amp"):Object(Ve.c)("renderFootprint","multi-amp-".concat(r)),O(e,n);else if(Object(Ue.c)(window)&&void 0!==n&&Object(Re.k)(n,"kvMap")&&Object(Re.k)(n.kvMap,"amznhost"))Object(Ve.c)("renderFootprint","multi-sf-".concat(r)),O(e,n);else{var o=!1,i=("string"==typeof t&&0===t.indexOf("sp|")&&(t=t.substring(3),o=!0),t||e.amzniid),a=Q(i,o),c=a.slotBid,s=a.dealId,u=!1;if(void 0!==n&&Object(Re.k)(n,"bidType")&&"outstream"===n.bidType&&(u=!0),c){var l,d,f,b,p,g,y,m=s&&1<=s.length?R("sp"===s?c.bidConfig.amznsz_sp:X(i,c,s)):R(c.bidConfig.amznsz);1===arguments.length?(Object(Ve.c)("renderFootprint","JSONp"),v({doc:c.doc,bidID:c.bidConfig.amzniid,sizes:m,html:e.html,inheritSize:c.inheritSize||!1,isOutstream:u})):(Object(Ve.c)("bidRenderState",c.bidState),l=o?"sharedpmp":"open",void 0!==n?Object(Ve.c)("renderFootprint","multi-".concat(l,"-").concat(r)):Object(Ve.c)("renderFootprint","standard-".concat(l,"-").concat(r)),c.bidState===xe.c.rendered&&ce(c),Ae.a.dispatch({type:"BID_STATE_CHANGE",slotID:c.slotID,_targetingSetID:c._targetingSetID,bidState:xe.c.rendered,ts:Date.now()}),d=c.host,f=c.bidConfig.slotID,b="amznad".concat(Math.round(1e6*Math.random())),p={bidID:i,doc:e,slotID:f,pp:C("amznbid",c,s),host:d,adID:b,sizes:m,amznp:C("amznp",c,s),crID:C("crid",c,s),fif:!1,dealId:s,isSharedPMP:o,cfe:c.cfe,isOutstream:u,inheritSize:Object(Re.j)(n)&&Object(Re.k)(n,"inheritSize")&&!0===n.inheritSize},"1"===c.bidConfig.fif&&!1===u?(p.fif=!0,Ae.a.dispatch({type:"UPDATE_BID_INFO_PROP",slotID:c.slotID,iid:t,key:"doc",value:e}),Ae.a.dispatch({type:"UPDATE_BID_INFO_PROP",slotID:c.slotID,iid:t,key:"inheritSize",value:p.inheritSize}),Object(Ne.b)(h(p),(function(){}),document,(function(){return Object(Me.b)(new Error("Error Loading JSONP Render Callback"),"renderImp-fif-callback-load",{makeVisibleToAllUsers:!0})}))):u?(Ae.a.dispatch({type:"OUTSTREAM_SHOULD_SAMPLE",shouldSample:Object(Re.l)(10)}),Ae.a.getState().outstream.shouldSample&&(Object(Ve.e)("renderImp",p.bidID),Ae.a.dispatch({type:"RECORD_OUTSTREAM_RENDER_START_TIME",time:Date.now()})),g=Object(Be.c)(p,xe.b),y=Object(Be.b)(g,xe.y,p),p.html=y,v(p)):Ae.a.getState().aaxViewabilityEnabled?z(p,e):j(p),u||re(e,p))}else try{Object(Me.b)(new Error("Invalid bid ID. '".concat("(bidID value: "+t+", bID value: "+i+")","' tried to render into document ").concat(e instanceof Document?e.documentURI:"with type "+it(e))),"_renderImp-invalidId",{makeVisibleToAllUsers:!0})}catch(e){Object(Me.b)(e,"_renderImp-invalidId")}}}catch(e){Object(Me.b)(e,"_renderImp",{makeVisibleToAllUsers:!0})}}function C(e,t,n){try{var r,o="";return void 0!==n&&1<=n.length?(r="".concat(e,"_sp"),"sp"===n&&Object(Re.k)(t.bidConfig,r)&&(o=t.bidConfig[r])):Object(Re.k)(t.bidConfig,e)&&(o=t.bidConfig[e]),o}catch(e){return Object(Me.b)(e,"_getProperBidInfoValue"),""}}function z(e,t){try{var n=t.createElement("script"),r=(n.type="text/javascript",n.async=!0,{doc:t,bidID:e.bidID,states:{csmLoaded:!1,iframeLoaded:!1,shouldRunViewability:!0}}),o=te.bind(null,r);Object(Ne.a)(n,(function(){r.states.csmLoaded=!0,o()}));try{n.addEventListener("error",(function(e){return Object(Ve.b)({_type:"csm_fail",ts:Date.now(),msg:e.message})}))}catch(e){Object(Me.b)(e,"_loadViewabilityAd-csm")}j(e,r,o),n.src=Ae.a.getState().cfg.CSM_JS,f(t,n)}catch(e){Object(Me.b)(e,"_loadViewabilityAd")}}function x(e){try{V(e),Object(Re.k)(e,"slots")&&(Ae.a.dispatch({type:"UPDATE_SLOT_BIDS",bids:W(e)}),Object(Re.k)(e,"ev")&&Ae.a.dispatch({type:"SET_VIEWABILITY",viewability:e.ev}),Object(Re.k)(e,"cfn"))&&Ae.a.dispatch({type:"SET_CFG",cfg:{CSM_JS:"//"===e.cfn.substring(0,2)?e.cfn:"//c.amazon-adsystem.com/".concat(e.cfn)}}),M(e)}catch(e){Object(Me.b)(e,"_bids",{makeVisibleToAllUsers:!0})}}function je(){return"number"==typeof Ae.a.getState().cfg.MAX_SLOTS_PER_REQUEST&&0<Ae.a.getState().cfg.MAX_SLOTS_PER_REQUEST}function Se(e,t){try{var n=Object(Xe.b)();Object(Ee.a)(Ae.a.getState().config.gdpr,(function(r){we(e,t,r,n)}))}catch(e){Object(Me.b)(e,"_getConfigsAndFetchBids",{makeVisibleToAllUsers:!0})}}function we(e,t,n,r){try{p.attemptConsentDataSync(),Object(Qe.b)(t,["function","undefined"])||Object(Me.c)("fetchBids.callback",it(t),"function"),"function"!=typeof t&&(t=function(){}),Object(Re.j)(e)||(Object(Me.c)("fetchBids.bidConfig",it(e),"object"),e={}),Object(Qe.a)(e.timeout)||("string"==typeof e.timeout?Object(Me.b)({name:"string-".concat(e.timeout),message:"fetchBids.bidConfig.timeout was a non-numeric string '".concat(e.timeout,"'")},"TypeError-fetchBids.bidConfig.timeout",{makeVisibleToAllUsers:!0}):Object(Me.c)("fetchBids.bidConfig.timeout",it(e.timeout),"number")),Object(Re.k)(e,"params")&&!Object(Re.j)(e.params)?Object(Me.c)("fetchBids.bidConfig.params",it(e.params),"object"):Object(Re.k)(e,"params")&&Object(Re.j)(e.params)&&Object.keys(e.params).forEach((function(t){return!(void 0===e.params||"string"!=typeof e.params[t]&&"number"!=typeof e.params[t]&&(Object(Re.i)(e.params[t])?!e.params[t].reduce((function(e,t){return e&&("string"==typeof t||"number"==typeof t)}),!0)&&(Object(Me.b)({name:"non-string array item",message:"'fetchBids.bidConfig.params.".concat(t," contains a non-string item")},"TypeError-fetchBids.bidConfig.params.".concat(t),{makeVisibleToAllUsers:!0}),1):(Object(Me.c)("fetchBids.bidConfig.params.".concat(t),it(e.params[t]),"string' or 'array"),1)))})),Object(Re.k)(e,"blockedBidders")&&!Object(Re.i)(e.blockedBidders)?Object(Me.c)("fetchBids.bidConfig.blockedBidders",it(e.blockedBidders),"array"):Object(Re.k)(e,"blockedBidders")&&Object(Re.i)(e.blockedBidders)&&(e.blockedBidders.reduce((function(e,t){return e&&("string"==typeof t||"number"==typeof t)}),!0)||Object(Me.b)({name:"non-string array item",message:"'fetchBids.bidConfig.blockedBidders contains a non-string item"},"TypeError-fetchBids.bidConfig.blockedBidders",{makeVisibleToAllUsers:!0})),Object(Re.k)(e,"blockedBidders")?Object(Ve.c)("blockedBidders-fetchBids","y"):Object(Ve.c)("blockedBidders-fetchBids","n"),Object(Re.k)(e,"slots")&&!Object(Re.i)(e.slots)&&Object(Me.c)("fetchBids.bidConfig.slots",it(e.slots),"array")}catch(o){Object(Me.b)(o,"_fetchBids-validation",{makeVisibleToAllUsers:!0})}var o=Ae.a.getState().config.simplerGPT,i=rt(rt({},e),{},{bidReqID:"".concat(Ae.a.getState().AAXReqs.length),slots:[],validSlots:[],networkReqs:[]}),a=!1;try{!0===o&&(!Object(Re.k)(e,"slots")||Object(Re.k)(e,"slots")&&Object(Re.i)(e.slots)&&0<e.slots.length&&Object(Re.k)(e.slots[0],"getSlotElementId"))?0===Object(Ce.b)(qe.a).length?(Object(Me.b)(new Error("fetchBids was called in simplerGPT mode before any slots were defined in GPT"),"_fetchBids-simplerGpt-NoSlots",{makeVisibleToAllUsers:!0}),a=!0,i.slots=[]):(e.slots?(Object(Ve.c)("slots","gpt-provided"),i.slots=e.slots.map((function(e){return new Ze.a(e)}))):(Object(Ve.c)("slots","gpt-fetch"),i.slots=Object(Ce.b)(qe.a)),i.slots=i.slots.filter(Ce.a),0===i.slots.length&&(Object(Me.b)(new Error("No GPT slots provided to apstag.fetchBids() had valid sizes"),"_fetchBids-simplerGpt-NoValidSizes",{makeVisibleToAllUsers:!0}),a=!0)):Object(Re.k)(e,"slots")&&Object(Re.i)(e.slots)&&(o?Object(Ve.c)("slots","gpt-aps"):Object(Ve.c)("slots","aps"),i.slots=e.slots.map((function(e){switch(e.mediaType){case Ge.a.DISPLAY:return new Ye.a(e);case Ge.a.VIDEO:return new $e.a(e);case Ge.a.MULTI_FORMAT:return new at.a(e);default:return new Ye.a(e)}}))),i.validSlots=i.slots.filter((function(e){return e.isValid()}))}catch(o){Object(Me.b)(o,"_fetchBids-getSlots",{makeVisibleToAllUsers:!0})}var c=Object(Pe.i)(i,Ae.a.getState());try{t=Object(Pe.b)(ne(t,i),c)}catch(o){Object(Me.b)(o,"_fetchBids-wrapCallback",{makeVisibleToAllUsers:!0})}try{if(0===i.validSlots.length)!1===a&&Object(Me.b)(new Error("No valid slots provided to apstag.fetchBids"),"_fetchBids-noSlots",{makeVisibleToAllUsers:!0}),setTimeout(t.bind(null,[]),10);else{try{var s=1===i.slots.length?"single":"multi",u=Date.now()-b<=xe.q?"onload":"ondelay",l=Ae.a.getState().AAXReqs.reduce((function(e,t){return t.bidConfig.slots.forEach((function(t){Object(Re.h)(e,t.slotID)||e.push(t.slotID)})),e}),[]);i.slots.map((function(e){return e.slotID})).map((function(e){return Object(Re.h)(l,e)})).map((function(e){return e?"refresh":"initial"})).filter((function(e,t,n){return n.indexOf(e)===t})).forEach((function(e){return Object(Ve.c)("fetchBids","".concat(s,"-").concat(u,"-").concat(e))}))}catch(o){Object(Me.b)(o,"_fetchBids-feature")}if(he(i.slots.filter(Object(Ce.d)(Ge.a.DISPLAY,Ge.a.MULTI_FORMAT)).map(Ce.c)),Ae.a.dispatch({type:"NEW_FETCH_BID_REQUEST",fid:i.bidReqID,pto:c}),Ae.a.dispatch({type:"RECORD_ORIGINAL_BID_CONFIG",bidConfig:i}),Object(ze.d)("fake_bids"))oe(i);else if(xe.k)if(Ae.a.dispatch({type:"SHOULD_CHUNK_REQUESTS",value:Object(Re.l)(Ae.a.getState().cfg.CHUNK_BID_REQUESTS_PROPORTION)}),Ae.a.getState().experiments.chunkRequests&&je()){for(var d=Te(i),f=0;f<d.length;f++)d[f].bidReqID="".concat(i.bidReqID,"-").concat(f);Ae.a.dispatch({type:"ADD_CHUNKED_REQUESTS",fid:i.bidReqID,numChunks:d.length}),d.forEach((function(e){g(Object(He.d)(e,c,n,r),t,e.bidReqID)}))}else g(Object(He.d)(i,c,n,r),t,i.bidReqID);else Object(Ne.b)(Object(He.d)(i,c,n,r),t)}}catch(o){Object(Me.b)(o,"_fetchBids",{makeVisibleToAllUsers:!0})}}function Te(e){try{for(var t=Math.ceil(e.validSlots.length/Ae.a.getState().cfg.MAX_SLOTS_PER_REQUEST),n=new Array(t),r=0;r<t;r++){var o=r*Ae.a.getState().cfg.MAX_SLOTS_PER_REQUEST;n[r]={slots:e.validSlots.slice(o,o+Ae.a.getState().cfg.MAX_SLOTS_PER_REQUEST)}}return n.map((function(t){return rt(rt({},e),t)}))}catch(t){return Object(Me.b)(t,"chunkConfig",{makeVisibleToAllUsers:!0}),[]}}function _e(e){try{Object(Re.k)(Ae.a.getState().config,"adServer")?qe.a.isSupported?($(e),w()):Object(Me.b)(new Error("apstag.setDisplayBids called with unsupported ad server: ".concat(Ae.a.getState().config.adServer)),"_setDisplayBids-invalidAdServer",{makeVisibleToAllUsers:!0}):Object(Me.b)(new Error("apstag.setDisplayBids called without specifying ad server"),"_setDisplayBids-noAdServer",{makeVisibleToAllUsers:!0})}catch(e){Object(Me.b)(e,"_setDisplayBids",{makeVisibleToAllUsers:!0})}}function De(e,t){try{var n,r,o,i,a;(null!=(n=e.gdpr)&&n.consent||null!=(r=e.gdpr)&&r.enabled)&&(a={tcString:null==(o=e.gdpr)?void 0:o.consent,gdprApplies:null==(i=e.gdpr)?void 0:i.enabled},p.writeConsentDataToStore(a)),p.attemptConsentDataSync(),q(e),Object(qe.b)(e.adServer),me(),Object(Xe.c)()}catch(e){Object(Me.b)(e,"_init")}"function"==typeof t&&t()}function Ie(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"display",t=Ae.a.getState();try{switch(e){case Ge.a.DISPLAY:return Object(Ve.c)("targeting","targetingKeys-display"),t.config.useSafeFrames?[].concat(nt(xe.i),["amznhost"]):xe.i;case Ge.a.VIDEO:return Object(Ve.c)("targeting","targetingKeys-video"),t.config.useSafeFrames?[].concat(nt(xe.x),["amznhost"]):xe.x;default:if(Object(He.g)(Ae.a.getState(),qe.a)){if(Object(Ve.c)("targeting","targetingKeys-newBid"),Object(Re.i)(Ae.a.getState().targetingKeys[e]))return Ae.a.getState().targetingKeys[e]}else Object(Ve.c)("targeting","targetingKeys-invalid");return[]}}catch(e){return Object(Me.b)(e,"_targetingKeys",{makeVisibleToAllUsers:!0}),[]}}function ke(){try{return Ae.a.getState().AAXReqs.reduce((function(e,t){return t.bidConfig.slots.reduce((function(e,t){return e[t.slotID]=t.slotName,e}),e)}),{})}catch(e){return Object(Me.b)(e,"_getSlotIdToNameMapping",{makeVisibleToAllUsers:!0}),{}}}try{Object(Re.k)(window,"apstag")&&Object(Re.k)(window.apstag,"_Q")&&0<window.apstag._Q.length&&Ae.a.dispatch({type:"SET_Q",Q:window.apstag._Q})}catch(e){Object(Me.b)(e,"apstag-storeQ",{makeVisibleToAllUsers:!0})}window.apstag=function(){var t={punt:x,init:De,debug:ze.a,_getSlotIdToNameMapping:ke,targetingKeys:Ie,fetchBids:Se,setDisplayBids:_e,renderImp:ve,bids:x,deleteId:Je.a,updateId:Je.e,renewId:Je.d,dpa:Je.a,upa:Je.e,rpa:Je.d,thirdPartyData:{},isGDPRRegion:!1,rr:Ke.a};return Object.keys(t).forEach((function(e){"function"==typeof t[e]&&(t[e]=Object(tt.a)(e,t[e]),t[e]=Object(Me.d)(t[e],e))})),r?Object(ze.b)(!0,e):n&&Object(ze.b)(!1,e),!0===Object(ze.c)("exposeApi")&&(t._api={_getBidSetInfo:E,_applyTargetingToGPTSlot:d,dispatch:Ae.a.dispatch,_clearTargetingFromGPTSlot:s,_clearBidSetOnSlot:u,_getCurrentSlotBids:l,_creativeURL:h,getSlotFetchCounts:I,buildBidUrl:He.d}),t}(),function(){try{var e,t=(Ae.a.dispatch({type:"SHOULD_SAMPLE_FEATURES",value:Object(Re.l)(Ae.a.getState().cfg.FEATURE_SAMPLING_RATE)}),Ae.a.dispatch({type:"SHOULD_CF_ROUTE",value:Object(Re.l)(Ae.a.getState().cfg.CF_ROUTING_RATE)}),Ae.a.getState().experiments.shouldCFRoute&&Ae.a.dispatch({type:"SET_HOST",hostName:"DEFAULT_AAX_BID_HOST",hostValue:"aax-dtb-cf.amazon-adsystem.com"}),Ae.a.dispatch({type:"SHOULD_SAMPLE_LATENCY",value:Object(Re.l)(Ae.a.getState().cfg.LATENCY_SAMPLING_RATE)}),null!==Ae.a.getState().cfg.TEST_BID_ENDPOINT&&(e=Object(Re.l)(Ae.a.getState().cfg.TEST_PATH_FREQUENCY),Ae.a.dispatch({type:"SHOULD_USE_TEST_BID_ENDPOINT",value:e}),e)&&null!==Ae.a.getState().cfg.TEST_PATH_LATENCY_SAMPLE_RATE&&Ae.a.dispatch({type:"SHOULD_SAMPLE_LATENCY",value:Object(Re.l)(Ae.a.getState().cfg.TEST_PATH_LATENCY_SAMPLE_RATE)}),Ae.a.dispatch({type:"SHOULD_SAMPLE_SLOT_RENDER",value:Object(Re.l)(Ae.a.getState().cfg.SLOT_RENDER_SAMPLING_RATE)}),Ae.a.getState());(t.experiments.shouldSampleLatency||t.displayAdServer.shouldSampleRender)&&D(),t.displayAdServer.shouldSampleRender&&le(),t.experiments.shouldSampleLatency&&k()}catch(e){Object(Me.b)(e,"apstag-sampleLatency")}try{F()}catch(e){Object(Me.b)(e,"apstag-doLast")}if(!Object(Pe.k)(window,!0))try{var n=function(e){e&&"object"!==it(e)||(e="Request Timeout or Error"),Object(Me.b)({message:"csm-rtb-comm-js loading failed",name:e},"__csm-rtb-comm-js__")};Object(Ne.d)({url:Ae.a.getState().cfg.CSM_RTB_COMMUNICATOR_JS,onload:function e(t){t.readyState===XMLHttpRequest.DONE&&200===t.status?eval(t.responseText):n(JSON.stringify({status:t.statusText,response:t.responseXML}))},onerror:n,ontimeout:n})}catch(e){Object(Me.b)(e,"__load-csm-rtb-comm-js__")}Object(ze.e)()}()}())}catch(e){Object(Me.b)(e,"apstag")}}]);
